"use strict";(self.webpackChunkadminDesign=self.webpackChunkadminDesign||[]).push([[4827],{4827:(S,x,l)=>{l.r(x),l.d(x,{AdvancedModule:()=>Ne});var a=l(6895),_=l(4364),d=l(4006),f=l(805),R=l(5226),p=l.n(R),N=l(7114),e=l(4650),F=l(6991),O=l(5620),D=l(7392),I=l(9549),y=l(3848),T=l(7466),b=l(5593),C=l(8796),q=l(4144),Z=l(9602),M=l(5412),u=l(6186),v=l(1740);function o(i,c){1&i&&(e.TgZ(0,"mat-icon",46),e._uU(1,"thumb_up"),e.qZA(),e._uU(2," All Advanced Received History "))}function r(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",47)(1,"button",48),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(),h=e.MAs(11);return e.KtG(s.clear(h))}),e.qZA(),e.TgZ(2,"span",49),e._UZ(3,"i",50),e.TgZ(4,"input",51),e.NdJ("input",function(s){e.CHM(t);const h=e.oxw(),A=e.MAs(11);return e.KtG(A.filterGlobal(h.getEventValue(s),"contains"))}),e.qZA()()()}}function m(i,c){1&i&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Print"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Edit Adv. Received"),e.qZA(),e.TgZ(5,"th",52),e._uU(6,"Student Name "),e._UZ(7,"p-sortIcon",53),e.qZA(),e.TgZ(8,"th",54),e._uU(9,"Course Name "),e._UZ(10,"p-sortIcon",55),e.qZA(),e.TgZ(11,"th",56),e._uU(12,"Transaction Date "),e._UZ(13,"p-sortIcon",57),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Description"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Total Advanced"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Total Adv. Received"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Advanced Due"),e.qZA()())}function g(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"button",30),e.NdJ("click",function(){const h=e.CHM(t).$implicit,A=e.oxw();return e.KtG(A.onClickedAdvancedVoucher(h))}),e._UZ(3,"i",58),e.qZA()(),e.TgZ(4,"td")(5,"button",30),e.NdJ("click",function(){const h=e.CHM(t).$implicit,A=e.oxw();return e.KtG(A.onEditAdvancedReceived(h))}),e._UZ(6,"i",59),e.qZA()(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.ALo(18,"currency"),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.ALo(21,"currency"),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.ALo(24,"currency"),e.qZA()()}if(2&i){const t=c.$implicit;e.xp6(8),e.Oqu(t.ledger_name),e.xp6(2),e.Oqu(t.full_name),e.xp6(2),e.Oqu(e.xi3(13,7,t.transaction_date,"dd/MM/yyyy")),e.xp6(3),e.Oqu(t.comment),e.xp6(2),e.Oqu(e.xi3(18,10,t.amount,"INR")),e.xp6(3),e.Oqu(e.xi3(21,13,t.advanced_received,"INR")),e.xp6(3),e.Oqu(e.xi3(24,16,t.adv_due,"INR"))}}function j(i,c){1&i&&e._UZ(0,"p-button",60)}function B(i,c){1&i&&(e.TgZ(0,"mat-icon",46),e._uU(1,"trending_up"),e.qZA(),e._uU(2," Enter Received Advanced "))}function G(i,c){if(1&i&&e._uU(0),2&i){const t=c.item;e.AsE(" ",t.studentName," (",t.qualification,") ")}}function k(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",16)(1,"ng-select",61),e.NdJ("change",function(s){e.CHM(t);const h=e.oxw();return e.KtG(h.getRegisterId(s))}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("items",t.courseNameList)("readonly",t.isReadonly)}}function E(i,c){if(1&i&&(e.TgZ(0,"div",62)(1,"table",63)(2,"thead")(3,"tr")(4,"th",64),e._uU(5,"Total Advanced"),e.qZA(),e.TgZ(6,"th",64),e._uU(7,"Received Advanced"),e.qZA(),e.TgZ(8,"th",64),e._uU(9,"Advanced Due"),e.qZA()()(),e.TgZ(10,"tbody")(11,"tr")(12,"th",65),e._uU(13),e.ALo(14,"currency"),e.qZA(),e.TgZ(15,"th",65),e._uU(16),e.ALo(17,"currency"),e.qZA(),e.TgZ(18,"th",65),e._uU(19),e.ALo(20,"currency"),e.qZA()()()()()),2&i){const t=e.oxw();e.xp6(13),e.Oqu(e.xi3(14,3,t.totalAdvanced,"INR")),e.xp6(3),e.Oqu(e.xi3(17,6,t.receivedAdvanced,"INR")),e.xp6(3),e.Oqu(e.xi3(20,9,t.advancedDue,"INR"))}}function Y(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",16)(1,"mat-form-field",17)(2,"mat-label"),e._uU(3,"Enter Amount"),e.qZA(),e.TgZ(4,"input",66),e.NdJ("ngModelChange",function(s){e.CHM(t);const h=e.oxw();return e.KtG(h.receivedAmount=s)}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.receivedAmount)}}function J(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",16)(1,"textarea",67),e.NdJ("ngModelChange",function(s){e.CHM(t);const h=e.oxw();return e.KtG(h.AdvancedreceivedComments=s)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.AdvancedreceivedComments)}}function L(i,c){1&i&&(e.TgZ(0,"div",68)(1,"div",69)(2,"mat-form-field"),e._UZ(3,"input",70),e.qZA()()())}function H(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onSave())}),e.TgZ(1,"i",71),e._uU(2," Save "),e.qZA()()}}function P(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onUpdate())}),e.TgZ(1,"i",71),e._uU(2," Update "),e.qZA()()}}function Q(i,c){1&i&&(e.TgZ(0,"mat-icon",46),e._uU(1,"list"),e.qZA(),e._uU(2," Enter Advanced Adjustment "))}function V(i,c){if(1&i&&(e.TgZ(0,"small"),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=c.item;e.xp6(1),e.lnq(" ",t.ledger_name,"| ",t.full_name," | (",e.xi3(2,3,t.adv_due,"INR"),") ")}}function K(i,c){if(1&i&&(e.TgZ(0,"div",62)(1,"table",63)(2,"thead")(3,"tr")(4,"th",64),e._uU(5,"Transaction Date"),e.qZA(),e.TgZ(6,"th",64),e._uU(7,"Course Name"),e.qZA(),e.TgZ(8,"th",64),e._uU(9,"Description"),e.qZA(),e.TgZ(10,"th",72),e._uU(11,"Amount"),e.qZA(),e.TgZ(12,"th",72),e._uU(13,"Received"),e.qZA(),e.TgZ(14,"th",72),e._uU(15,"Net Due"),e.qZA()()(),e.TgZ(16,"tbody")(17,"tr")(18,"td",65),e._uU(19),e.ALo(20,"date"),e.qZA(),e.TgZ(21,"td",65),e._uU(22),e.qZA(),e.TgZ(23,"td",65),e._uU(24),e.qZA(),e.TgZ(25,"td",73),e._uU(26),e.ALo(27,"currency"),e.qZA(),e.TgZ(28,"td",73),e._uU(29),e.ALo(30,"currency"),e.qZA(),e.TgZ(31,"td",73),e._uU(32),e.ALo(33,"currency"),e.qZA()()()()()),2&i){const t=e.oxw();e.xp6(19),e.Oqu(e.xi3(20,6,t.transactionDateAdv,"dd/MM/yyyy")),e.xp6(3),e.Oqu(t.fullName),e.xp6(2),e.Oqu(t.comment),e.xp6(2),e.Oqu(e.xi3(27,9,t.amount,"INR")),e.xp6(3),e.Oqu(e.xi3(30,12,t.receivedAdvanced,"INR")),e.xp6(3),e.Oqu(e.xi3(33,15,t.advancedDue,"INR"))}}function z(i,c){if(1&i&&e._uU(0),2&i){const t=c.item;e.AsE(" ",t.studentName," (",t.qualification,") ")}}function W(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"ng-select",74),e.NdJ("change",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.adjustmentChangeCourseId())}),e.YNc(1,z,1,2,"ng-template",24),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("items",t.studentNameList)("readonly",t.isReadonly)}}function X(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"ng-select",75),e.NdJ("change",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.getAdjustmentTranMasterId())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("items",t.courseNameList)("readonly",t.isReadonly)}}function $(i,c){if(1&i&&(e.TgZ(0,"small"),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=c.item;e.xp6(1),e.lnq(" ",t.ledger_name,"| (",e.xi3(2,3,t.total_due,"INR"),") | ",t.transaction_number," ")}}function ee(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"ng-select",76),e.NdJ("change",function(s){e.CHM(t);const h=e.oxw();return e.KtG(h.getEachAdjustmentTranMasterDetails(s))}),e.YNc(1,$,3,6,"ng-template",24),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("items",t.tranMasterIdArray)("readonly",t.isReadonly)}}function te(i,c){if(1&i&&(e.TgZ(0,"div",16)(1,"table",63)(2,"thead")(3,"tr")(4,"th",64),e._uU(5,"Fee Name"),e.qZA(),e.TgZ(6,"th",64),e._uU(7,"Amount Due"),e.qZA()()(),e.TgZ(8,"tbody")(9,"tr")(10,"th",65),e._uU(11),e.qZA(),e.TgZ(12,"th",65),e._uU(13),e.ALo(14,"currency"),e.qZA()()()()()),2&i){const t=e.oxw();e.xp6(11),e.Oqu(t.courseName),e.xp6(2),e.Oqu(e.xi3(14,2,t.totalCurrentDue,"INR"))}}function ne(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onSaveAdjustment())}),e.TgZ(1,"i",71),e._uU(2," Save "),e.qZA()()}}function ae(i,c){1&i&&(e.TgZ(0,"mat-icon",46),e._uU(1,"thumb_up"),e.qZA(),e._uU(2," Advanced Adjustment List "))}function ie(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",47)(1,"button",48),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(),h=e.MAs(90);return e.KtG(s.clear(h))}),e.qZA(),e.TgZ(2,"span",49),e._UZ(3,"i",50),e.TgZ(4,"input",51),e.NdJ("input",function(s){e.CHM(t);const h=e.oxw(),A=e.MAs(90);return e.KtG(A.filterGlobal(h.getEventValue(s),"contains"))}),e.qZA()()()}}function oe(i,c){1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",77),e.TgZ(2,"th"),e._uU(3,"SL"),e.qZA(),e.TgZ(4,"th",52),e._uU(5,"Name "),e._UZ(6,"p-sortIcon",53),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Course"),e.qZA(),e.TgZ(9,"th",78),e._uU(10,"Total Received "),e._UZ(11,"p-sortIcon",79),e.qZA()())}function se(i,c){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._UZ(2,"button",80),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"currency"),e.qZA()()),2&i){const t=c.$implicit,n=c.expanded,s=c.rowIndex;e.xp6(2),e.Q6J("pRowToggler",t)("icon",n?"pi pi-chevron-down":"pi pi-chevron-right"),e.xp6(2),e.Oqu(s+1),e.xp6(2),e.Oqu(t.ledger_name),e.xp6(2),e.Oqu(t.full_name),e.xp6(2),e.Oqu(e.xi3(11,6,t.total_amount,"INR"))}}function de(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td",84),e._uU(7),e.ALo(8,"currency"),e.qZA(),e.TgZ(9,"td")(10,"button",85),e.NdJ("click",function(){const h=e.CHM(t).$implicit,A=e.oxw(2);return e.KtG(A.deleteAdvFeesReceivedAdj(h))}),e._UZ(11,"i",86),e.qZA(),e._uU(12," \xa0 "),e.qZA()()}if(2&i){const t=c.$implicit;e.xp6(2),e.Oqu(e.xi3(3,3,t.transaction_date,"dd/MM/yyyy")),e.xp6(3),e.Oqu(t.comment),e.xp6(2),e.Oqu(e.xi3(8,6,t.amount,"INR"))}}function re(i,c){if(1&i&&(e.TgZ(0,"tr")(1,"td",81)(2,"div",82)(3,"table",63)(4,"thead")(5,"tr")(6,"th",64),e._uU(7,"Date"),e.qZA(),e.TgZ(8,"th",64),e._uU(9,"Particulars"),e.qZA(),e.TgZ(10,"th",64),e._uU(11,"Amount"),e.qZA(),e.TgZ(12,"th",64),e._uU(13,"Action"),e.qZA()()(),e.TgZ(14,"tbody"),e.YNc(15,de,13,9,"tr",83),e.qZA()()()()()),2&i){const t=c.$implicit;e.xp6(15),e.Q6J("ngForOf",t.adv_fees_received_details)}}function ce(i,c){1&i&&(e.TgZ(0,"mat-icon",46),e._uU(1,"thumb_up"),e.qZA(),e._uU(2," Advanced Receipt Voucher "))}function le(i,c){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td",84),e._uU(9),e.ALo(10,"currency"),e.qZA()()),2&i){const t=c.$implicit,n=c.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(e.xi3(5,4,t.transaction_date,"dd/MM/yyyy")),e.xp6(3),e.Oqu(t.comment),e.xp6(2),e.Oqu(e.xi3(10,7,t.amount,"INR"))}}function ue(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",87)(1,"div",88)(2,"div",89)(3,"div",4)(4,"div",90)(5,"p",91),e._uU(6),e.qZA(),e.TgZ(7,"p",92),e._uU(8),e.qZA(),e.TgZ(9,"p",92),e._uU(10),e.qZA(),e._UZ(11,"hr",93),e.TgZ(12,"h2",94)(13,"b"),e._uU(14,"Advanced Receipt Voucher"),e.qZA()()()()(),e.TgZ(15,"div",4)(16,"div",95)(17,"table",63)(18,"thead")(19,"tr")(20,"th",64),e._uU(21,"Student Name"),e.qZA(),e.TgZ(22,"th",64),e._uU(23,"Course Name"),e.qZA(),e.TgZ(24,"th",64),e._uU(25,"Adv. Date"),e.qZA(),e.TgZ(26,"th",64),e._uU(27,"Description"),e.qZA(),e.TgZ(28,"th",72),e._uU(29,"Total Advanced"),e.qZA(),e.TgZ(30,"th",72),e._uU(31,"Received"),e.qZA(),e.TgZ(32,"th",72),e._uU(33,"Net Due"),e.qZA()()(),e.TgZ(34,"tbody")(35,"tr")(36,"th",65),e._uU(37),e.qZA(),e.TgZ(38,"td",65),e._uU(39),e.qZA(),e.TgZ(40,"td",65),e._uU(41),e.ALo(42,"date"),e.qZA(),e.TgZ(43,"td",65),e._uU(44),e.qZA(),e.TgZ(45,"td",73),e._uU(46),e.ALo(47,"currency"),e.qZA(),e.TgZ(48,"td",73),e._uU(49),e.ALo(50,"currency"),e.qZA(),e.TgZ(51,"td",73),e._uU(52),e.ALo(53,"currency"),e.qZA()()()()(),e.TgZ(54,"div",4)(55,"div",96)(56,"table",97)(57,"thead")(58,"tr",98)(59,"th"),e._uU(60,"Sl No"),e.qZA(),e.TgZ(61,"th"),e._uU(62,"Date"),e.qZA(),e.TgZ(63,"th"),e._uU(64,"Comments"),e.qZA(),e.TgZ(65,"th",84),e._uU(66,"Amount"),e.qZA()()(),e.TgZ(67,"tbody"),e.YNc(68,le,11,10,"tr",83),e.qZA(),e.TgZ(69,"tfoot")(70,"tr",99)(71,"th",100),e._uU(72,"\xa0"),e.qZA(),e.TgZ(73,"td",84),e._uU(74,"Grand Total:"),e.qZA(),e.TgZ(75,"th",84),e._uU(76),e.ALo(77,"currency"),e.qZA(),e.TgZ(78,"th"),e._uU(79,"\xa0"),e.qZA()(),e.TgZ(80,"tr")(81,"th"),e._uU(82,"In Words:"),e.qZA(),e.TgZ(83,"td"),e._uU(84,":"),e.qZA(),e.TgZ(85,"th",101),e._uU(86),e.qZA()()()()()(),e.TgZ(87,"div",102)(88,"div",103),e._uU(89," Notice:"),e.TgZ(90,"p",104),e._uU(91,"1) It is Computer Generated Bill"),e.qZA(),e.TgZ(92,"p",105),e._uU(93,"2) Advanced Fees Cannot be Refund."),e.qZA()(),e.TgZ(94,"div",106)(95,"p",84),e._uU(96,"Signature"),e.qZA(),e.TgZ(97,"p",84),e._uU(98,"-----------------"),e.qZA()()()()(),e.TgZ(99,"div",107)(100,"button",108),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onClickedClosed())}),e._uU(101,"Close"),e.qZA(),e.TgZ(102,"button",109),e._uU(103,"Print"),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(6),e.hij("",t.organisationName," "),e.xp6(2),e.AsE("",t.organisationAddress,", Pin:",t.organisationPin,""),e.xp6(2),e.AsE(" E-mail: \xa0",t.organisationEmail," | Contact: ",t.organisationContact,""),e.xp6(27),e.Oqu(t.billing_name),e.xp6(2),e.Oqu(t.full_name),e.xp6(2),e.Oqu(e.xi3(42,15,t.advTranDate,"dd/MM/yyyy")),e.xp6(3),e.Oqu(t.advComments),e.xp6(2),e.Oqu(e.xi3(47,18,t.total_advanced,"INR")),e.xp6(3),e.Oqu(e.xi3(50,21,t.received_advanced,"INR")),e.xp6(3),e.Oqu(e.xi3(53,24,t.advanced_due,"INR")),e.xp6(16),e.Q6J("ngForOf",t.allAdvancedReceivedHistoryByIdArray),e.xp6(8),e.Oqu(e.xi3(77,27,t.totalRecepitAdvAmount,"INR")),e.xp6(10),e.Oqu(t.rupeeInWords)}}const w=function(){return[5,10,25,50]},me=function(){return["ledger_name","full_name","transaction_date"]},he=function(){return["ledger_name","full_name","total_amount"]},pe=new N.ToWords({localeCode:"en-IN",converterOptions:{currency:!0,ignoreDecimal:!1,ignoreZeroCurrency:!1,doNotAddOnly:!1,currencyOptions:{name:"Rupee",plural:"Rupees",symbol:"\u20b9",fractionalUnit:{name:"Paisa",plural:"Paise",symbol:""}}}}),ve=[{path:"",component:(()=>{class i{constructor(t,n,s,h,A){this.transactionServicesService=t,this.confirmationService=n,this.activatedRoute=s,this.messageService=h,this.commonService=A,this.advReceivedHiddenInputBoolean=!1,this.selectedIndex=0,this.UserID=0,this.organisationId=0,this.organisationName="",this.organisationAddress="",this.organisationPin="",this.organisationContact="",this.organisationEmail="",this.isReadonly=!1,this.event=0,this.studentNameList=[],this.advancedDetailsArray=[],this.allAdvancedDetailsArray=[],this.allAdvReceivedAdjustmentArray=[],this.feesNameList=[],this.courseNameList=[],this.receivedAmount=0,this.isDeviceXS=!1,this.amount=0,this.comment="",this.transactionDateAdv="",this.transactionMonth=0,this.transactionYear=0,this.totalAdvanced=0,this.receivedAdvanced=0,this.advancedDue=0,this.totalCourseDue=0,this.totalCurrentDue=0,this.courseName="",this.receivedGrandTotal=0,this.feesReceivedDetailsArray=[],this.tranMasterIdArray=[],this.allAdvancedReceivedHistoryArray=[],this.allAdvancedReceivedHistoryByIdArray=[],this.hiddenTransactionInfo=!1,this.hiddenAdvReceived=!1,this.hiddenEachTranDetails=!1,this.courseNameBoolean=!1,this.transactionNoBoolean=!1,this.studentNameBoolean=!1,this.advAmountBoolean=!1,this.advCourseNameBoolean=!1,this.advCommentsBoolean=!1,this.AdvshowReceiptBoolean=!1,this.organizationArray=[],this.editAdvReceivedArray=[],this.advReceivedTransactionId=0,this.advComments="",this.advTranDate="",this.whatsapp_number="",this.billing_name="",this.total_advanced=0,this.received_advanced=0,this.advanced_due=0,this.totalRecepitAdvAmount=0,this.rupeeInWords="",this.active=0,this.receiptMode=[{id:1,name:"Cash"},{id:2,name:"Bank"}],this.AdvancedreceivedComments="Received Advanced Fees: For the Month of Feb to Apr 2023",this.activatedRoute.data.subscribe(De=>{this.studentNameList=De.feesReceivedResolver.students.data}),this.isDeviceXS=A.getDeviceXs();const U=localStorage.getItem("user");U&&(this.UserID=JSON.parse(U).uniqueId,this.organisationId=JSON.parse(U).organisationId,console.log("user localUserID:",this.UserID),console.log("user organisationId:",this.organisationId)),this.getAdvStudentName(this.organisationId),this.getAllAdvReceived(this.organisationId),this.getAllAdvancedReceivedHistory(this.organisationId),this.getAllAdvReceivedAdjustment(this.organisationId)}ngOnInit(){const t=new Date;let n=(0,a.p6)(t,"yyyy-MM-dd","en");this.AdvancedFeesReceivedFormGroup=new d.cw({comment:new d.NI(null,[d.kI.required]),studentId:new d.NI(null,[d.kI.required]),amount:new d.NI(null,[d.kI.required]),transactionDate:new d.NI(n),studentToCourseId:new d.NI(null,[d.kI.required]),ledgerId:new d.NI(1,[d.kI.required]),transactionId:new d.NI(0,[d.kI.required])}),this.AdvancedAdjustmentFeesReceivedFormGroup=new d.cw({adjuestmenTtransactionDate:new d.NI(n,[d.kI.required]),referenceReceivedTransactionMasterId:new d.NI(null,[d.kI.required]),adjustmentStudentId:new d.NI(null,[d.kI.required]),adjustmentStudentToCourseId:new d.NI(null,[d.kI.required]),transactionMasterId:new d.NI(null,[d.kI.required])})}onTabChanged(t){this.event=t,console.log("Tab id:",this.event)}clear(t){t.clear()}getEventValue(t){return t.target.value}changeCourseId(){this.advAmountBoolean=!1,this.transactionNoBoolean=!1,this.advCommentsBoolean=!1,this.advCourseNameBoolean=!0,this.hiddenTransactionInfo=!1,this.tempGetActiveCourseObj={},this.tranMasterIdArray=[],this.AdvancedFeesReceivedFormGroup.patchValue({studentToCourseId:""}),this.AdvancedFeesReceivedFormGroup.patchValue({comment:""}),this.AdvancedFeesReceivedFormGroup.patchValue({amount:0}),this.courseNameList=[];let n=this.AdvancedFeesReceivedFormGroup.get("studentId")?.value;this.tempGetActiveCourseObj={ledger_id:n,organisationId:this.organisationId},this.transactionServicesService.fetchAllStudentToCourses(this.tempGetActiveCourseObj).subscribe(s=>{this.courseNameList=s.data,console.log("courseNameList:",this.courseNameList)})}onClickedAdvancedVoucher(t){console.log("all data:",t),this.advComments="",this.advTranDate="",this.advComments=t.comment,this.advTranDate=t.transaction_date,this.totalRecepitAdvAmount=0,this.rupeeInWords="",this.AdvshowReceiptBoolean=!0,this.selectedIndex=4,this.transactionServicesService.fetchOrganizationDetails(this.organisationId).subscribe(n=>{this.organizationArray=n.data,console.log("organizationArray:",this.organizationArray),this.organisationName=n.data[0].organisation_name,this.organisationAddress=n.data[0].address,this.organisationPin=n.data[0].pin,this.organisationEmail=n.data[0].email_id,this.organisationContact=n.data[0].whatsapp_number,console.log("organisation_name:",this.organisationName)}),this.transactionServicesService.fetchAllAdvancedReceivedHistoryById(t.student_course_registration_id).subscribe(n=>{this.allAdvancedReceivedHistoryByIdArray=n.data,console.log("fetchAllAdvancedReceivedHistoryById:",this.allAdvancedReceivedHistoryByIdArray),this.billing_name=this.allAdvancedReceivedHistoryByIdArray[0].billing_name,this.whatsapp_number=this.allAdvancedReceivedHistoryByIdArray[0].whatsapp_number,this.full_name=this.allAdvancedReceivedHistoryByIdArray[0].full_name,this.total_advanced=this.allAdvancedReceivedHistoryByIdArray[0].total_advanced,this.received_advanced=this.allAdvancedReceivedHistoryByIdArray[0].received_advanced,this.advanced_due=this.allAdvancedReceivedHistoryByIdArray[0].advanced_due,this.transaction_date=this.allAdvancedReceivedHistoryByIdArray[0].transaction_date,this.transaction_number=this.allAdvancedReceivedHistoryByIdArray[0].transaction_number,this.total_discount=this.allAdvancedReceivedHistoryByIdArray[0].total_discount,console.log("Array:",this.allAdvancedReceivedHistoryByIdArray);for(let s of this.allAdvancedReceivedHistoryByIdArray)this.totalRecepitAdvAmount=Number(this.totalRecepitAdvAmount)+Number(s.amount);this.rupeeInWords=pe.convert(this.totalRecepitAdvAmount)})}onUpdate(){this.transactionDate="",this.ledgerId=this.AdvancedFeesReceivedFormGroup.get("ledgerId")?.value,this.amount=this.AdvancedFeesReceivedFormGroup.get("amount")?.value,this.transactionDate=this.AdvancedFeesReceivedFormGroup.get("transactionDate")?.value,this.studentCourseRegistrationId=this.AdvancedFeesReceivedFormGroup.get("studentToCourseId")?.value,this.comment=this.AdvancedreceivedComments;var t=new Date(this.transactionDate);this.transactionMonth=t.getMonth()+1,this.transactionYear=t.getFullYear(),console.log("Month No:",t.getMonth()+1),console.log("Year No:",t.getFullYear()),this.mode=1===this.ledgerId?"Cash":"Bank",this.transactionDate=(0,a.p6)(this.transactionDate,"yyyy-MM-dd","en"),p().fire({title:"Are you sure Update?",html:"<pre> Date:"+this.transactionDate+"</pre><br><pre> Amount:"+this.amount+"</pre><br><pre>Payment Mode:"+this.mode+"</pre>",text:" Save This Record...?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Save it!",cancelButtonText:"No, keep it"}).then(n=>{n.isConfirmed?(this.tempReceicedObj={transactionMaster:{studentCourseRegistrationId:this.studentCourseRegistrationId,transactionDate:this.transactionDate,comment:this.comment,feesYear:this.transactionYear,feesMonth:this.transactionMonth,organisationId:this.organisationId},transactionDetails:[{ledgerId:this.ledgerId,transactionTypeId:1,amount:this.amount},{ledgerId:77,transactionTypeId:2,amount:this.amount}]},this.transactionServicesService.updateAdvancedFeesReceived(this.advReceivedTransactionId,this.tempReceicedObj).subscribe(s=>{1===s.success&&(p().fire({position:"top-end",icon:"success",title:"Advanced has been Updated",showConfirmButton:!1,timer:1500}),this.getAllAdvReceived(this.organisationId),this.getAdvStudentName(this.organisationId),this.getAllAdvancedReceivedHistory(this.organisationId),this.getAllAdvReceivedAdjustment(this.organisationId),this.clearFeesReceivedAdv())},s=>{p().fire({icon:"error",title:"Duplicate Course Code..!!",text:s,footer:"<a href>Why do I have this issue?</a>",timer:0})})):n.dismiss===p().DismissReason.cancel&&p().fire("Cancelled","Your imaginary file is safe :)","error")})}onEditAdvancedReceived(t){this.selectedIndex=1,console.log("all data:",t),this.advCourseNameBoolean=!0,this.hiddenTransactionInfo=!0,this.advAmountBoolean=!0,this.advCommentsBoolean=!0,this.AdvancedFeesReceivedFormGroup.patchValue({transactionId:t.id}),this.advReceivedTransactionId=t.id,console.log("advReceivedTransactionId :",this.advReceivedTransactionId),this.transactionServicesService.fetchEditAdvancedReceived(t.id).subscribe(n=>{this.editAdvReceivedArray=n.data,console.log("editAdvReceivedArray:",this.editAdvReceivedArray),this.AdvancedFeesReceivedFormGroup.patchValue({studentId:this.editAdvReceivedArray[0].id}),this.AdvancedFeesReceivedFormGroup.patchValue({studentToCourseId:this.editAdvReceivedArray[0].student_course_registration_id}),this.AdvancedFeesReceivedFormGroup.patchValue({amount:this.editAdvReceivedArray[0].amount}),this.AdvancedFeesReceivedFormGroup.patchValue({transactionDate:this.editAdvReceivedArray[0].transaction_date}),this.AdvancedFeesReceivedFormGroup.patchValue({ledgerId:this.editAdvReceivedArray[0].ledger_id}),this.tempGetActiveCourseObj={ledger_id:this.editAdvReceivedArray[0].id,organisationId:this.organisationId},this.transactionServicesService.fetchAllStudentToCourses(this.tempGetActiveCourseObj).subscribe(s=>{this.courseNameList=s.data,console.log("courseNameList:",this.courseNameList)})}),this.transactionServicesService.fetchAdvancedDetails(t.student_course_registration_id).subscribe(n=>{this.advancedDetailsArray=n.data,console.log("advancedDetailsArray:",this.advancedDetailsArray),this.totalAdvanced=this.advancedDetailsArray[0].total_advanced,this.receivedAdvanced=this.advancedDetailsArray[0].received_advanced,this.advancedDue=this.advancedDetailsArray[0].advanced_due})}onClickedClosed(){this.selectedIndex=0}adjustmentChangeCourseId(){this.hiddenEachTranDetails=!1,this.courseNameBoolean=!0,this.transactionNoBoolean=!1,this.studentNameBoolean=!0,this.tempReceiceAdjustmentdObj={},this.tranMasterIdArray=[],this.tempGetActiveCourseObj={},this.AdvancedAdjustmentFeesReceivedFormGroup.patchValue({adjustmentStudentToCourseId:""}),this.AdvancedAdjustmentFeesReceivedFormGroup.patchValue({transactionMasterId:""}),this.courseNameList=[],this.adjustmentStudentId=this.AdvancedAdjustmentFeesReceivedFormGroup.get("adjustmentStudentId")?.value,this.tempGetActiveCourseObj={ledger_id:this.adjustmentStudentId,organisationId:this.organisationId},this.transactionServicesService.fetchAllStudentToCourses(this.tempGetActiveCourseObj).subscribe(n=>{this.courseNameList=n.data,console.log("AdjustmentcourseNameList:",this.courseNameList)})}getAdvStudentName(t){this.transactionServicesService.fetchAllAdvStudentName(t).subscribe(n=>{this.studentNameList=n.data,console.log("studentNameList:",this.studentNameList)})}getAllAdvReceived(t){this.transactionServicesService.fetchAllAdvancedReceivedDetails(t).subscribe(n=>{this.allAdvancedDetailsArray=n.data,console.log("allAdvancedDetailsArray:",this.allAdvancedDetailsArray)})}getAllAdvReceivedAdjustment(t){this.transactionServicesService.fetchAllAdvFeesReceivedAdjustment(t).subscribe(n=>{this.allAdvReceivedAdjustmentArray=n.data,console.log("allAdvReceivedAdjustmentArray:",this.allAdvReceivedAdjustmentArray)})}getAllAdvancedReceivedHistory(t){this.transactionServicesService.fetchAllAdvancedReceivedHistory(t).subscribe(n=>{this.allAdvancedReceivedHistoryArray=n.data,console.log("allAdvancedReceivedHistoryArray:",this.allAdvancedReceivedHistoryArray)})}getAllAdvancedReceivedHistoryById(t){this.transactionServicesService.fetchAllAdvancedReceivedHistory(t).subscribe(n=>{this.allAdvancedReceivedHistoryByIdArray=n.data,console.log("allAdvancedReceivedHistoryByIdArray:",this.allAdvancedReceivedHistoryByIdArray)})}deleteAdvFeesReceivedAdj(t){console.log("data:",t),p().fire({title:"Are you sure?",text:"Delete All Record...?",icon:"info",showCancelButton:!0,confirmButtonText:"Yes, Save it!",cancelButtonText:"No, keep it"}).then(n=>{n.isConfirmed?this.transactionServicesService.deleteAdvAdjustmentFeesReceived(t.id).subscribe(s=>{1===s.success&&(p().fire({position:"top-end",icon:"success",title:"Adv. Fees has been Delete",showConfirmButton:!1,timer:1500}),this.getAllAdvReceivedAdjustment(this.organisationId))},s=>{p().fire({icon:"error",title:"Oops...",text:s,footer:"<a href>Why do I have this issue?</a>",timer:0})}):n.dismiss===p().DismissReason.cancel&&p().fire("Cancelled","Your imaginary file is safe :)","error")})}onSaveAdjustment(){this.transactionDate="",this.ledgerId=this.AdvancedAdjustmentFeesReceivedFormGroup.get("ledgerId")?.value,this.amount=this.totalCurrentDue,this.transactionDate=this.AdvancedAdjustmentFeesReceivedFormGroup.get("adjuestmenTtransactionDate")?.value,this.referenceReceivedTransactionMasterId=this.AdvancedAdjustmentFeesReceivedFormGroup.get("referenceReceivedTransactionMasterId")?.value,this.transactionMasterId=this.AdvancedAdjustmentFeesReceivedFormGroup.get("transactionMasterId")?.value,this.comment="Advanced Adjustment Entry";var t=new Date(this.transactionDate);this.transactionMonth=t.getMonth()+1,this.transactionYear=t.getFullYear(),console.log("Month No:",t.getMonth()+1),console.log("Year No:",t.getFullYear()),this.mode=1===this.ledgerId?"Cash":"Bank";let n=(0,a.p6)(this.transactionDate,"yyyy-MM-dd","en");p().fire({title:"Are you sure?",html:"<pre> Date:"+this.transactionDate+"</pre><br><pre> Amount:"+this.amount+"</pre>",text:" Save This Record...?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Save it!",cancelButtonText:"No, keep it"}).then(s=>{s.isConfirmed?(this.tempReceiceAdjustmentdObj={transactionMaster:{userId:1,referenceTransactionMasterId:this.transactionMasterId,referenceReceivedTransactionMasterId:this.referenceReceivedTransactionMasterId,studentCourseRegistrationId:this.studentCourseRegistrationId,transactionDate:n,comment:this.comment,feesYear:this.transactionYear,feesMonth:this.transactionMonth,organisationId:this.organisationId},transactionDetails:[{ledgerId:40,transactionTypeId:1,amount:this.amount},{ledgerId:this.adjustmentStudentId,transactionTypeId:2,amount:this.amount}]},this.transactionServicesService.saveAadvancedFeesReceivedAdjustment(this.tempReceiceAdjustmentdObj).subscribe(h=>{1===h.success&&(p().fire({position:"top-end",icon:"success",title:"Advanced has been saved",showConfirmButton:!1,timer:1500}),this.getAllAdvReceived(this.organisationId),this.getAdvStudentName(this.organisationId),this.getAllAdvancedReceivedHistory(this.organisationId),this.getAllAdvReceivedAdjustment(this.organisationId),this.clearAdjustmentFeesReceivedAdv())},h=>{p().fire({icon:"error",title:"Duplicate Course Code..!!",text:h,footer:"<a href>Why do I have this issue?</a>",timer:0})})):s.dismiss===p().DismissReason.cancel&&p().fire("Cancelled","Your imaginary file is safe :)","error")})}onSave(){this.transactionDate="",this.ledgerId=this.AdvancedFeesReceivedFormGroup.get("ledgerId")?.value,this.amount=this.AdvancedFeesReceivedFormGroup.get("amount")?.value,this.transactionDate=this.AdvancedFeesReceivedFormGroup.get("transactionDate")?.value,this.studentCourseRegistrationId=this.AdvancedFeesReceivedFormGroup.get("studentToCourseId")?.value,this.comment=this.AdvancedreceivedComments;var t=new Date(this.transactionDate);this.transactionMonth=t.getMonth()+1,this.transactionYear=t.getFullYear(),console.log("Month No:",t.getMonth()+1),console.log("Year No:",t.getFullYear()),this.mode=1===this.ledgerId?"Cash":"Bank",this.transactionDate=(0,a.p6)(this.transactionDate,"yyyy-MM-dd","en"),p().fire({title:"Are you sure?",html:"<pre> Date:"+this.transactionDate+"</pre><br><pre> Amount:"+this.amount+"</pre><br><pre>Payment Mode:"+this.mode+"</pre>",text:" Save This Record...?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Save it!",cancelButtonText:"No, keep it"}).then(n=>{n.isConfirmed?(this.tempReceicedObj={transactionMaster:{studentCourseRegistrationId:this.studentCourseRegistrationId,transactionDate:this.transactionDate,comment:this.comment,feesYear:this.transactionYear,feesMonth:this.transactionMonth,organisationId:this.organisationId},transactionDetails:[{ledgerId:this.ledgerId,transactionTypeId:1,amount:this.amount},{ledgerId:40,transactionTypeId:2,amount:this.amount}]},this.transactionServicesService.saveAadvancedFeesReceived(this.tempReceicedObj).subscribe(s=>{1===s.success&&(p().fire({position:"top-end",icon:"success",title:"Advanced has been saved",showConfirmButton:!1,timer:1500}),this.getAllAdvReceived(this.organisationId),this.getAdvStudentName(this.organisationId),this.getAllAdvancedReceivedHistory(this.organisationId),this.getAllAdvReceivedAdjustment(this.organisationId),this.clearFeesReceivedAdv())},s=>{p().fire({icon:"error",title:"Duplicate Course Code..!!",text:s,footer:"<a href>Why do I have this issue?</a>",timer:0})})):n.dismiss===p().DismissReason.cancel&&p().fire("Cancelled","Your imaginary file is safe :)","error")})}clearFeesReceivedAdv(){this.advAmountBoolean=!1,this.transactionNoBoolean=!1,this.advCommentsBoolean=!1,this.advCourseNameBoolean=!1,this.hiddenTransactionInfo=!1,this.hiddenEachTranDetails=!1,this.courseNameBoolean=!1,this.transactionNoBoolean=!1,this.studentNameBoolean=!1,this.tempReceiceAdjustmentdObj={},this.tranMasterIdArray=[],this.tempGetActiveCourseObj={},this.AdvancedAdjustmentFeesReceivedFormGroup.patchValue({adjustmentStudentToCourseId:""}),this.AdvancedAdjustmentFeesReceivedFormGroup.patchValue({transactionMasterId:""}),this.hiddenTransactionInfo=!1;const t=new Date;let n=(0,a.p6)(t,"yyyy-MM-dd","en");this.AdvancedFeesReceivedFormGroup=new d.cw({studentId:new d.NI(null,[d.kI.required]),amount:new d.NI(0,[d.kI.required]),transactionDate:new d.NI(n),studentToCourseId:new d.NI(null,[d.kI.required]),ledgerId:new d.NI(1,[d.kI.required])})}clearAdjustmentFeesReceivedAdv(){this.hiddenTransactionInfo=!1,this.hiddenEachTranDetails=!1,this.hiddenAdvReceived=!1,this.courseNameBoolean=!1,this.transactionNoBoolean=!1,this.studentNameBoolean=!1,this.tempGetActiveCourseObj={},this.tranMasterIdArray=[],this.AdvancedAdjustmentFeesReceivedFormGroup.patchValue({adjustmentStudentId:""}),this.AdvancedAdjustmentFeesReceivedFormGroup.patchValue({adjustmentStudentToCourseId:""}),this.AdvancedAdjustmentFeesReceivedFormGroup.patchValue({transactionMasterId:""});const t=new Date;let n=(0,a.p6)(t,"yyyy-MM-dd","en");this.AdvancedAdjustmentFeesReceivedFormGroup=new d.cw({adjuestmenTtransactionDate:new d.NI(n,[d.kI.required]),referenceReceivedTransactionMasterId:new d.NI(null,[d.kI.required]),adjustmentStudentId:new d.NI(null,[d.kI.required]),adjustmentStudentToCourseId:new d.NI(null,[d.kI.required]),transactionMasterId:new d.NI(null,[d.kI.required])})}getRegisterId(t){console.log("all data:",t),this.totalAdvanced=0,this.receivedAdvanced=0,this.advancedDue=0,this.advancedDetailsArray=[],this.hiddenTransactionInfo=!0,this.advAmountBoolean=!0,this.advCommentsBoolean=!0,this.AdvancedreceivedComments="Received Advanced Fees: For the Month of Feb to Apr 2023",this.studentToCourseRegisterId=t.id,console.log("studentToCourseRegisterId:",this.studentToCourseRegisterId),this.transactionServicesService.fetchAdvancedDetails(this.studentToCourseRegisterId).subscribe(n=>{this.advancedDetailsArray=n.data,console.log("advancedDetailsArray:",this.advancedDetailsArray),this.totalAdvanced=this.advancedDetailsArray[0].total_advanced,this.receivedAdvanced=this.advancedDetailsArray[0].received_advanced,this.advancedDue=this.advancedDetailsArray[0].advanced_due})}getActiveAdvReceived(t){this.hiddenEachTranDetails=!1,this.courseNameBoolean=!1,this.transactionNoBoolean=!1,this.studentNameBoolean=!0,this.tempGetActiveCourseObj={},this.tranMasterIdArray=[],this.AdvancedAdjustmentFeesReceivedFormGroup.patchValue({adjustmentStudentId:""}),this.AdvancedAdjustmentFeesReceivedFormGroup.patchValue({adjustmentStudentToCourseId:""}),this.AdvancedAdjustmentFeesReceivedFormGroup.patchValue({transactionMasterId:""}),this.transactionDateAdv="",this.fullName="",this.studentCourseRegistrationId="",this.amount=0,this.hiddenAdvReceived=!0,this.advancedDue=0,this.receivedAdvanced=0,this.transactionDateAdv=t.transaction_date,this.fullName=t.full_name,this.comment=t.comment,this.amount=t.amount,this.advancedDue=t.adv_due,this.receivedAdvanced=t.advanced_received,console.log("advancedDetailsArray:",t.student_course_registration_id),this.studentCourseRegistrationId=t.student_course_registration_id}getEachAdjustmentTranMasterDetails(t){this.hiddenEachTranDetails=!0,console.log("tran history:",t),this.totalCurrentDue=0,this.courseName=t.ledger_name,this.totalCurrentDue=t.total_due}getAdjustmentTranMasterId(){this.AdvancedAdjustmentFeesReceivedFormGroup.patchValue({transactionMasterId:""}),this.tranMasterIdArray=[],this.transactionNoBoolean=!0,this.receivedGrandTotal=0,this.totalCourseDue=0,this.totalCurrentDue=0,this.feesReceivedDetailsArray=[],this.tranMasterIdArray=[],this.tempGetActiveCourseObj={},this.hiddenEachTranDetails=!1,this.adjustmentStudentCourseRegistrationId=this.AdvancedAdjustmentFeesReceivedFormGroup.get("adjustmentStudentToCourseId")?.value,console.log("adjustmentStudentCourseRegistrationId:",this.adjustmentStudentCourseRegistrationId),this.tempGetActiveCourseObj={id:this.adjustmentStudentCourseRegistrationId,organisationId:this.organisationId},this.transactionServicesService.fetchAllTranMasterId(this.tempGetActiveCourseObj).subscribe(t=>{this.tranMasterIdArray=t.data,console.log("AdjustmenttranMasterIdArray:",this.tranMasterIdArray)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(F.D),e.Y36(f.YP),e.Y36(_.gz),e.Y36(f.ez),e.Y36(O.v))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-advanced"]],features:[e._Bn([f.YP,f.ez])],decls:104,vars:56,consts:[[1,"container-fluid","page"],[1,"row","d-flex","align-items-center","justify-content-between"],[1,"col-12","header"],[1,"bi","bi-cash"],[1,"row"],[1,"col-12","mt-3","feeleft"],["animationDuration","200ms",2,"width","100% !important",3,"selectedIndex","selectedIndexChange"],["mat-tab-label",""],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions","globalFilterFields"],["allAdvancedReceivedHistory",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","paginatorleft"],[1,"p-3","flex-fill",2,"background-color","white"],[3,"formGroup"],[1,"col-sm-4"],[2,"width","100%"],["matInput","","formControlName","transactionDate",3,"matDatepicker"],["ref",""],["matSuffix","",3,"for"],["transactionDate",""],["bindLabel","name","bindValue","id","appendTo","body","formControlName","ledgerId","placeholder","Mode Of Receipt",1,"custom",3,"items"],["fxFlex","100","bindLabel","studentName","bindValue","studentId","appendTo","body","formControlName","studentId","placeholder","Student Name",1,"custom",3,"items","readonly","change"],["ng-option-tmp",""],["class","col-sm-4",4,"ngIf"],["class","col-sm-8",4,"ngIf"],[1,"row","p-2"],["class","col-sm-2",4,"ngIf"],[1,"col-sm-9","text-right"],["pButton","",1,"p-button-rounded","p-button-info","p-button-outlined",3,"click"],[1,"bi","bi-clear",2,"font-size","1rem"],["pButton","","class","p-button-rounded p-button-info p-button-outlined",3,"click",4,"ngIf"],["fxFlex","100","bindLabel","ledger_name","bindValue","id","appendTo","body","formControlName","referenceReceivedTransactionMasterId","placeholder","Student Name",1,"custom",3,"items","readonly","change"],["matInput","","formControlName","adjuestmenTtransactionDate",3,"matDatepicker"],["ref_adv",""],["adjuestmenTtransactionDate",""],[1,"col-sm-3"],["fxFlex","100","bindLabel","studentName","class","custom","bindValue","studentId","appendTo","body","formControlName","adjustmentStudentId","placeholder","Student Name",3,"items","readonly","change",4,"ngIf"],["fxFlex","100","bindLabel","full_name","class","custom","bindValue","id","appendTo","body","formControlName","adjustmentStudentToCourseId","placeholder","Course Name",3,"items","readonly","change",4,"ngIf"],["fxFlex","100","bindLabel","transaction_number","class","custom","bindValue","id","appendTo","body","formControlName","transactionMasterId","placeholder","Transaction No",3,"items","readonly","change",4,"ngIf"],["dataKey","reference_received_transaction_master_id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-striped",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions","globalFilterFields"],["allAdvReceivedAdjustment",""],["pTemplate","rowexpansion","class","col-12"],[2,"background-color","yellow"],["class","container",4,"ngIf"],[1,"example-tab-icon"],[1,"flex"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined",3,"click"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search keyword",3,"input"],["pSortableColumn","ledger_name"],["field","ledger_name"],["pSortableColumn","full_name"],["field","full_name"],["pSortableColumn","transaction_date"],["field","transaction_date"],[1,"bi","bi-printer"],[1,"bi","bi-pencil-square"],["type","button","icon","pi pi-plus","styleClass","p-button-text"],["fxFlex","100","bindLabel","full_name","bindValue","id","appendTo","body","formControlName","studentToCourseId","placeholder","Course Name",1,"custom",3,"items","readonly","change"],[1,"col-sm-8"],[1,"table","table-striped"],["scope","col"],["scope","row"],["matInput","","formControlName","amount",2,"font-size","larger","color","rgb(186, 11, 11)","text-decoration-style","solid",3,"ngModel","ngModelChange"],["id","exampleFormControlTextarea1","placeholder","Comments","formControlName","comment","rows","2",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-2"],[1,"form-group"],["matInput","","placeholder","Transaction ID","formControlName","transactionId"],[1,"bi","bi-save",2,"font-size","1rem"],["scope","col",1,"text-right"],["scope","row",1,"text-right"],["fxFlex","100","bindLabel","studentName","bindValue","studentId","appendTo","body","formControlName","adjustmentStudentId","placeholder","Student Name",1,"custom",3,"items","readonly","change"],["fxFlex","100","bindLabel","full_name","bindValue","id","appendTo","body","formControlName","adjustmentStudentToCourseId","placeholder","Course Name",1,"custom",3,"items","readonly","change"],["fxFlex","100","bindLabel","transaction_number","bindValue","id","appendTo","body","formControlName","transactionMasterId","placeholder","Transaction No",1,"custom",3,"items","readonly","change"],[2,"width","2rem"],["pSortableColumn","total_amount"],["field","total_amount"],["type","button","pButton","","pRipple","",1,"p-button-text","p-button-rounded","p-button-plain",3,"pRowToggler","icon"],["colspan","7"],[1,"p-3"],[4,"ngFor","ngForOf"],[1,"text-right"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash"],[1,"container"],["id","print-AllReceiptBill"],[2,"border","2px dotted rgb(1, 1, 19)"],["align","center",1,"col-12"],[2,"margin-bottom","0","margin-top","0","font-size","x-large","font-family","Cooper Black","font-weight","bolder"],[2,"margin-bottom","0","margin-top","0","font-size","medium"],[2,"height","2px","border-width","0","color","gray","background-color","gray","margin-bottom","0","margin-top","2px"],[1,"text-center"],[1,"col-12"],[1,"col-md-12","text-center"],[2,"border-collapse","collapse","width","100%","margin","0 auto"],[2,"border-top","3px dotted rgb(1, 1, 19)","border-bottom","3px dotted rgb(116, 114, 114)","background-color","rgb(196, 190, 190)","padding","0.5"],[2,"background-color","lightgrey","border-top","1px solid rgb(1, 1, 19)"],["colspan","2"],["colspan","3",1,"text-left"],[1,"row",2,"font-size","small"],[1,"col-7"],[2,"margin-bottom","0","margin-top","0","font-style","oblique","font-size","small"],[2,"margin-bottom","0","margin-top","0","font-style","oblique"],[1,"col-3"],["mat-dialog-actions",""],[1,"btn","btn-danger",3,"click"],["printSectionId","print-AllReceiptBill","printTitle","Develop By Ronit","ngxPrint","",1,"btn","btn-success"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"i",3),e._uU(4,"\xa0Advanced Fees Received"),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5)(7,"mat-tab-group",6),e.NdJ("selectedIndexChange",function(h){return n.onTabChanged(h)})("selectedIndexChange",function(h){return n.selectedIndex=h}),e.TgZ(8,"mat-tab"),e.YNc(9,o,3,0,"ng-template",7),e.TgZ(10,"p-table",8,9),e.YNc(12,r,5,0,"ng-template",10),e.YNc(13,m,22,0,"ng-template",11),e.YNc(14,g,25,19,"ng-template",12),e.YNc(15,j,1,0,"ng-template",13),e.qZA()(),e.TgZ(16,"mat-tab"),e.YNc(17,B,3,0,"ng-template",7),e.TgZ(18,"div",14)(19,"form",15)(20,"div",4)(21,"div",16)(22,"mat-form-field",17)(23,"mat-label"),e._uU(24,"Received Date"),e.qZA(),e._UZ(25,"input",18,19)(27,"mat-datepicker-toggle",20)(28,"mat-datepicker",null,21),e.qZA()(),e.TgZ(30,"div",16),e._UZ(31,"ng-select",22),e.qZA()(),e.TgZ(32,"div",4)(33,"div",16)(34,"ng-select",23),e.NdJ("change",function(){return n.changeCourseId()}),e.YNc(35,G,1,2,"ng-template",24),e.qZA()(),e.YNc(36,k,2,2,"div",25),e.qZA(),e.TgZ(37,"div",4),e.YNc(38,E,21,12,"div",26),e.qZA(),e.TgZ(39,"div",4),e.YNc(40,Y,5,1,"div",25),e.YNc(41,J,2,1,"div",25),e.qZA(),e.TgZ(42,"div",27),e.YNc(43,L,4,0,"div",28),e.TgZ(44,"div",29)(45,"button",30),e.NdJ("click",function(){return n.clearFeesReceivedAdv()}),e.TgZ(46,"i",31),e._uU(47," Clear "),e.qZA()(),e._uU(48,"\xa0\xa0\xa0 "),e.YNc(49,H,3,0,"button",32),e._uU(50,"\xa0\xa0\xa0 "),e.YNc(51,P,3,0,"button",32),e.qZA()()()()(),e.TgZ(52,"mat-tab"),e.YNc(53,Q,3,0,"ng-template",7),e.TgZ(54,"div",14)(55,"form",15)(56,"div",4)(57,"div",16)(58,"ng-select",33),e.NdJ("change",function(h){return n.getActiveAdvReceived(h)}),e.YNc(59,V,3,6,"ng-template",24),e.qZA()(),e.TgZ(60,"div",16)(61,"mat-form-field",17)(62,"mat-label"),e._uU(63,"Received Adjustment Date"),e.qZA(),e._UZ(64,"input",34,35)(66,"mat-datepicker-toggle",20)(67,"mat-datepicker",null,36),e.qZA()()(),e.TgZ(69,"div",4),e.YNc(70,K,34,18,"div",26),e.qZA(),e.TgZ(71,"div",4)(72,"div",37),e.YNc(73,W,2,2,"ng-select",38),e.qZA(),e.TgZ(74,"div",37),e.YNc(75,X,1,2,"ng-select",39),e.qZA(),e.TgZ(76,"div",37),e.YNc(77,ee,2,2,"ng-select",40),e.qZA()(),e.TgZ(78,"div",4),e.YNc(79,te,15,5,"div",25),e.qZA(),e.TgZ(80,"div",4)(81,"div",29)(82,"button",30),e.NdJ("click",function(){return n.clearAdjustmentFeesReceivedAdv()}),e.TgZ(83,"i",31),e._uU(84," Clear "),e.qZA()(),e._uU(85,"\xa0\xa0\xa0 "),e.YNc(86,ne,3,0,"button",32),e.qZA()()()()(),e.TgZ(87,"mat-tab"),e.YNc(88,ae,3,0,"ng-template",7),e.TgZ(89,"p-table",41,42),e.YNc(91,ie,5,0,"ng-template",10),e.YNc(92,oe,12,0,"ng-template",11),e.YNc(93,se,12,9,"ng-template",12),e.YNc(94,re,16,1,"ng-template",43),e.qZA(),e.TgZ(95,"pre",44),e._uU(96),e.ALo(97,"json"),e.ALo(98,"json"),e.ALo(99,"json"),e.ALo(100,"json"),e.qZA()(),e.TgZ(101,"mat-tab"),e.YNc(102,ce,3,0,"ng-template",7),e.YNc(103,ue,104,30,"div",45),e.qZA()()()()()),2&t){const s=e.MAs(29),h=e.MAs(68);e.xp6(7),e.Q6J("selectedIndex",n.selectedIndex),e.xp6(3),e.Q6J("value",n.allAdvancedReceivedHistoryArray)("paginator",!0)("rows",5)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(52,w))("globalFilterFields",e.DdM(53,me)),e.xp6(9),e.Q6J("formGroup",n.AdvancedFeesReceivedFormGroup),e.xp6(6),e.Q6J("matDatepicker",s),e.xp6(2),e.Q6J("for",s),e.xp6(4),e.Q6J("items",n.receiptMode),e.xp6(3),e.Q6J("items",n.studentNameList)("readonly",n.isReadonly),e.xp6(2),e.Q6J("ngIf",n.advCourseNameBoolean),e.xp6(2),e.Q6J("ngIf",n.hiddenTransactionInfo),e.xp6(2),e.Q6J("ngIf",n.advAmountBoolean),e.xp6(1),e.Q6J("ngIf",n.advCommentsBoolean),e.xp6(2),e.Q6J("ngIf",n.advReceivedHiddenInputBoolean),e.xp6(6),e.Q6J("ngIf",n.AdvancedFeesReceivedFormGroup.valid&&n.receivedAmount>0&&0===n.totalAdvanced),e.xp6(2),e.Q6J("ngIf",n.AdvancedFeesReceivedFormGroup.valid&&n.receivedAmount>0&&n.totalAdvanced>0&&n.advReceivedTransactionId>0),e.xp6(4),e.Q6J("formGroup",n.AdvancedAdjustmentFeesReceivedFormGroup),e.xp6(3),e.Q6J("items",n.allAdvancedDetailsArray)("readonly",n.isReadonly),e.xp6(6),e.Q6J("matDatepicker",h),e.xp6(2),e.Q6J("for",h),e.xp6(4),e.Q6J("ngIf",n.hiddenAdvReceived),e.xp6(3),e.Q6J("ngIf",n.studentNameBoolean),e.xp6(2),e.Q6J("ngIf",n.courseNameBoolean),e.xp6(2),e.Q6J("ngIf",n.transactionNoBoolean),e.xp6(2),e.Q6J("ngIf",n.hiddenEachTranDetails),e.xp6(7),e.Q6J("ngIf",n.AdvancedAdjustmentFeesReceivedFormGroup.valid&&n.studentCourseRegistrationId===n.adjustmentStudentCourseRegistrationId&&n.advancedDue>n.totalCurrentDue),e.xp6(3),e.Q6J("value",n.allAdvReceivedAdjustmentArray)("paginator",!0)("rows",5)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(54,w))("globalFilterFields",e.DdM(55,he)),e.xp6(7),e.gL8("                       save code = ",e.lcZ(97,44,n.tranMasterIdArray)," \n                        onSave = ",e.lcZ(98,46,n.tempReceicedObj),"\n                        tempGetActiveCourseObj = ",e.lcZ(99,48,n.tempGetActiveCourseObj),"\n                        tempReceiceAdjustmentdObj = ",e.lcZ(100,50,n.tempReceiceAdjustmentdObj),"\n                       this.AdvancedFeesReceivedFormGroup.valid = ",n.AdvancedFeesReceivedFormGroup.valid," \n                       this.AdvancedAdjustmentFeesReceivedFormGroup.valid = ",n.AdvancedAdjustmentFeesReceivedFormGroup.valid," \n                      "),e.xp6(7),e.Q6J("ngIf",n.AdvshowReceiptBoolean)}},dependencies:[a.sg,a.O5,D.Hw,I.KE,I.hX,I.R9,y.SP,y.uD,y.uX,T.iA,f.jx,T.lQ,T.jB,T.fz,b.Hq,b.zx,C.w9,C.ir,q.Nt,Z.Mq,Z.hl,Z.nW,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u,M.H8,u.I,v.o,a.Ts,a.H9,a.uU],styles:[".page[_ngcontent-%COMP%]{color:#0c0c0c;background:whitesmoke}.header[_ngcontent-%COMP%]{background-color:#383838;padding:.5em 1em;font-size:1.5em;margin:0;color:#fff}.feeleft[_ngcontent-%COMP%]{border-radius:10px;box-shadow:#00000059 0 5px 15px;background-color:#fafafb}.feeright[_ngcontent-%COMP%]{border-radius:10px;box-shadow:#00000059 0 5px 15px;font-size:small}.ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]:hover{background-color:#2a118d}  .mat-form-field .mat-input-element{color:#080808;font-size:large;font-family:Roboto,sans-serif}  .mat-form-field .mat-form-field-label{color:#0a0a0a;font-family:Roboto,sans-serif;font-size:large}.custom[_ngcontent-%COMP%]{font-size:20px!important}  datepicker-value-example .mat-form-field-label{color:#43b2ee}  .mat-tab-list .mat-tab-labels{color:#f60d0d;background-image:linear-gradient(to bottom right,rgb(8,2,68),rgb(10,39,168));font-weight:bolder}  .mat-tab-list .mat-tab-labels .mat-tab-label-active{color:#070707;background-color:#f6f9f6;font-weight:bolder}  .mat-datepicker-toggle{color:#43b2ee}  .mat-form-field-underline{background:#43b2ee}  .mat-tab-group.mat-primary .mat-ink-bar{background-color:#fec61f!important}mat-form-field[_ngcontent-%COMP%]{margin-bottom:-1em}  .mat-form-field .mat-input-element{color:#080808;font-size:medium}  .mat-form-field .mat-form-field-label{color:#0a0a0a;font-size:medium}  .mat-form-field .mat-form-field-underline{background-color:#04203b}  .mat-form-field .mat-form-field-ripple{background-color:#708090}  .mat-form-field .mat-form-field-required-marker{color:#be1509}"]}),i})()}];let ge=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[_.Bz.forChild(ve),_.Bz]}),i})();var Ae=l(2453),_e=l(4850),fe=l(6338),Te=l(8255),Ie=l(3683),ye=l(3546),Ze=l(2137),be=l(7729),Ce=l(6709),xe=l(3238),Re=l(4859);let Ne=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[a.ez,ge,D.Ps,_e.t,fe.ie,I.lN,Te.Tx,Ie.g0,y.Nh,ye.QW,T.U$,b.hJ,Ae.EV,C.A0,Ze.D,be.S,q.c,Z.FA,d.u5,d.UX,xe.XK,M.Is,Ce.p9,u.K,Re.ot,v.j]}),i})()},2453:(S,x,l)=>{l.d(x,{EV:()=>M,FN:()=>Z});var a=l(4650),_=l(6895),d=l(805),f=l(982),R=l(1795),p=l(7340);const N=["container"],e=function(u,v,o,r){return{"pi-info-circle":u,"pi-exclamation-triangle":v,"pi-times-circle":o,"pi-check":r}};function F(u,v){if(1&u&&(a.ynx(0),a._UZ(1,"span",6),a.TgZ(2,"div",7)(3,"div",8),a._uU(4),a.qZA(),a.TgZ(5,"div",9),a._uU(6),a.qZA()(),a.BQk()),2&u){const o=a.oxw();a.xp6(1),a.Tol("p-toast-message-icon pi"+(o.message.icon?" "+o.message.icon:"")),a.Q6J("ngClass",a.l5B(5,e,"info"==o.message.severity,"warn"==o.message.severity,"error"==o.message.severity,"success"==o.message.severity)),a.xp6(3),a.Oqu(o.message.summary),a.xp6(2),a.Oqu(o.message.detail)}}function O(u,v){1&u&&a.GkF(0)}function D(u,v){if(1&u){const o=a.EpF();a.TgZ(0,"button",10),a.NdJ("click",function(m){a.CHM(o);const g=a.oxw();return a.KtG(g.onCloseIconClick(m))})("keydown.enter",function(m){a.CHM(o);const g=a.oxw();return a.KtG(g.onCloseIconClick(m))}),a._UZ(1,"span",11),a.qZA()}}const I=function(u){return[u,"p-toast-message"]},y=function(u,v,o,r){return{showTransformParams:u,hideTransformParams:v,showTransitionParams:o,hideTransitionParams:r}},T=function(u){return{value:"visible",params:u}},b=function(u){return{$implicit:u}};function C(u,v){if(1&u){const o=a.EpF();a.TgZ(0,"p-toastItem",3),a.NdJ("onClose",function(m){a.CHM(o);const g=a.oxw();return a.KtG(g.onMessageClose(m))})("@toastAnimation.start",function(m){a.CHM(o);const g=a.oxw();return a.KtG(g.onAnimationStart(m))})("@toastAnimation.done",function(m){a.CHM(o);const g=a.oxw();return a.KtG(g.onAnimationEnd(m))}),a.qZA()}if(2&u){const o=v.$implicit,r=v.index,m=a.oxw();a.Q6J("message",o)("index",r)("template",m.template)("@toastAnimation",void 0)("showTransformOptions",m.showTransformOptions)("hideTransformOptions",m.hideTransformOptions)("showTransitionOptions",m.showTransitionOptions)("hideTransitionOptions",m.hideTransitionOptions)}}let q=(()=>{class u{constructor(o){this.zone=o,this.onClose=new a.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(o){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),o.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return u.\u0275fac=function(o){return new(o||u)(a.Y36(a.R0b))},u.\u0275cmp=a.Xpm({type:u,selectors:[["p-toastItem"]],viewQuery:function(o,r){if(1&o&&a.Gf(N,5),2&o){let m;a.iGM(m=a.CRH())&&(r.containerViewChild=m.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(o,r){1&o&&(a.TgZ(0,"div",0,1),a.NdJ("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()}),a.TgZ(2,"div",2),a.YNc(3,F,7,10,"ng-container",3),a.YNc(4,O,1,0,"ng-container",4),a.YNc(5,D,2,0,"button",5),a.qZA()()),2&o&&(a.Tol(r.message.styleClass),a.Q6J("ngClass",a.VKq(10,I,"p-toast-message-"+r.message.severity))("@messageState",a.VKq(17,T,a.l5B(12,y,r.showTransformOptions,r.hideTransformOptions,r.showTransitionOptions,r.hideTransitionOptions))),a.uIk("id",r.message.id),a.xp6(2),a.Q6J("ngClass",r.message.contentStyleClass),a.xp6(1),a.Q6J("ngIf",!r.template),a.xp6(1),a.Q6J("ngTemplateOutlet",r.template)("ngTemplateOutletContext",a.VKq(19,b,r.message)),a.xp6(1),a.Q6J("ngIf",!1!==r.message.closable))},dependencies:[_.mk,_.O5,_.tP,R.H],encapsulation:2,data:{animation:[(0,p.X$)("messageState",[(0,p.SB)("visible",(0,p.oB)({transform:"translateY(0)",opacity:1})),(0,p.eR)("void => *",[(0,p.oB)({transform:"{{showTransformParams}}",opacity:0}),(0,p.jt)("{{showTransitionParams}}")]),(0,p.eR)("* => void",[(0,p.jt)("{{hideTransitionParams}}",(0,p.oB)({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),u})(),Z=(()=>{class u{constructor(o,r,m){this.messageService=o,this.cd=r,this.config=m,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new a.vpe,this.id=(0,f.Th)()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(o=>{if(o)if(o instanceof Array){const r=o.filter(m=>this.canAdd(m));this.add(r)}else this.canAdd(o)&&this.add([o])}),this.clearSubscription=this.messageService.clearObserver.subscribe(o=>{o?this.key===o&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(o){this.messages=this.messages?[...this.messages,...o]:[...o],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...o]:[...o]),this.cd.markForCheck()}canAdd(o){let r=this.key===o.key;return r&&this.preventOpenDuplicates&&(r=!this.containsMessage(this.messages,o)),r&&this.preventDuplicates&&(r=!this.containsMessage(this.messagesArchieve,o)),r}containsMessage(o,r){return!!o&&null!=o.find(m=>m.summary===r.summary&&m.detail==r.detail&&m.severity===r.severity)}ngAfterContentInit(){this.templates.forEach(o=>{o.getType(),this.template=o.template})}onMessageClose(o){this.messages.splice(o.index,1),this.onClose.emit({message:o.message}),this.cd.detectChanges()}onAnimationStart(o){"void"===o.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&f.P9.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(o){"void"===o.toState&&this.autoZIndex&&f.gb.isEmpty(this.messages)&&f.P9.clear(this.containerViewChild.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let o="";for(let r in this.breakpoints){let m="";for(let g in this.breakpoints[r])m+=g+":"+this.breakpoints[r][g]+" !important;";o+=`\n                    @media screen and (max-width: ${r}) {\n                        .p-toast[${this.id}] {\n                           ${m}\n                        }\n                    }\n                `}this.styleElement.innerHTML=o}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&f.P9.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return u.\u0275fac=function(o){return new(o||u)(a.Y36(d.ez),a.Y36(a.sBO),a.Y36(d.b4))},u.\u0275cmp=a.Xpm({type:u,selectors:[["p-toast"]],contentQueries:function(o,r,m){if(1&o&&a.Suo(m,d.jx,4),2&o){let g;a.iGM(g=a.CRH())&&(r.templates=g)}},viewQuery:function(o,r){if(1&o&&a.Gf(N,5),2&o){let m;a.iGM(m=a.CRH())&&(r.containerViewChild=m.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(o,r){1&o&&(a.TgZ(0,"div",0,1),a.YNc(2,C,1,8,"p-toastItem",2),a.qZA()),2&o&&(a.Tol(r.styleClass),a.Q6J("ngClass","p-toast p-component p-toast-"+r.position)("ngStyle",r.style),a.xp6(2),a.Q6J("ngForOf",r.messages))},dependencies:[q,_.mk,_.PC,_.sg],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[(0,p.X$)("toastAnimation",[(0,p.eR)(":enter, :leave",[(0,p.IO)("@*",(0,p.pV)())])])]},changeDetection:0}),u})(),M=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=a.oAB({type:u}),u.\u0275inj=a.cJS({imports:[[_.ez,R.T],d.m8]}),u})()}}]);