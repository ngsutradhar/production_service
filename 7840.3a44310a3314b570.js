"use strict";(self.webpackChunkadminDesign=self.webpackChunkadminDesign||[]).push([[7840],{7840:(tt,f,a)=>{a.r(f),a.d(f,{ItemModule:()=>W});var h=a(6895),I=a(4364),n=a(4006),x=a(5226),l=a.n(x),t=a(4650),Z=a(1710),T=a(5620),u=a(9549),b=a(7392),d=a(3848),v=a(4144),p=a(7466),C=a(805),g=a(5593),_=a(1740);function N(i,s){if(1&i&&(t.TgZ(0,"mat-icon",31),t._uU(1,"trending_up"),t.qZA(),t._uU(2," View Item \xa0 "),t.TgZ(3,"span",32),t._uU(4),t.qZA()),2&i){const e=t.oxw();t.xp6(4),t.hij(" ",e.ItemList.length,"")}}function A(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",33)(1,"p-button",34),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.onClickAdd())}),t.qZA(),t.TgZ(2,"span",35),t._UZ(3,"i",36),t.TgZ(4,"input",37),t.NdJ("input",function(r){t.CHM(e);const m=t.oxw(),c=t.MAs(11);return t.KtG(c.filterGlobal(m.getEventValue(r),"contains"))}),t.qZA()()()}}function U(i,s){1&i&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"ID"),t.qZA(),t.TgZ(3,"th",38),t._uU(4,"Item Name "),t._UZ(5,"p-sortIcon",39),t.qZA(),t.TgZ(6,"th",40),t._uU(7,"Technical Name "),t._UZ(8,"p-sortIcon",41),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Description"),t.qZA(),t.TgZ(11,"th",42),t._uU(12,"Edit "),t._UZ(13,"p-sortIcon",43),t.qZA(),t.TgZ(14,"th",44),t._uU(15,"Delete "),t._UZ(16,"p-sortIcon",45),t.qZA()())}function w(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"p-button",46),t.NdJ("click",function(){const m=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.editItem(m))}),t.qZA()(),t.TgZ(11,"td")(12,"p-button",47),t.NdJ("click",function(){const m=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.deleteTeacher(m))}),t.qZA()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.item_name),t.xp6(2),t.Oqu(e.technical_name),t.xp6(2),t.Oqu(e.item_description)}}function y(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",48),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),m=t.MAs(11);return t.KtG(r.clear(m))}),t.qZA()}}function F(i,s){1&i&&(t.TgZ(0,"mat-icon",31),t._uU(1,"trending_up"),t.qZA(),t._uU(2," Item Entry "))}function L(i,s){1&i&&(t.TgZ(0,"mat-error",50),t._uU(1," Item Name is required "),t.qZA())}function S(i,s){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,L,2,0,"mat-error",49),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.itemFormGroup.controls.itemName.errors.required)}}function D(i,s){1&i&&(t.TgZ(0,"mat-error",50),t._uU(1," Customer Technical Name is required"),t.qZA())}function G(i,s){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,D,2,0,"mat-error",49),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.itemFormGroup.controls.technicalName.errors.required)}}function k(i,s){1&i&&(t.TgZ(0,"mat-error",50),t._uU(1," Item Description is required"),t.qZA())}function q(i,s){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,k,2,0,"mat-error",49),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.itemFormGroup.controls.description.errors.required)}}function M(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",51),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.onUpdate())}),t._UZ(1,"i",52),t._uU(2,"\xa0 Update"),t.qZA()}}function J(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",53),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.onSave())}),t._UZ(1,"i",52),t._uU(2,"\xa0 Save"),t.qZA()}}const Y=function(){return[5,10,25,50]},O=function(){return["id","item_name","technical_name"]},B=[{path:"",component:(()=>{class i{constructor(e,o){this.customerService=e,this.commonService=o,this.stateList=[],this.organisationList=[],this.studentList=[],this.ItemList=[],this.showDiv=!1,this.showDivStudentExists=!1,this.organisationName="",this.address="",this.city="",this.contactNumber="",this.emailId="",this.organisationPin="",this.emailMobileNoCheckNgModel="",this.successMessage=0,this.organisationId=0,this.isShown=!1,this.studentData={},this.selectedIndex=0;const r=localStorage.getItem("user");r&&(this.UserID=JSON.parse(r).uniqueId,this.organisationId=JSON.parse(r).organisationId,console.log("user localUserID:",this.UserID),console.log("user organisationId:",this.organisationId)),this.getStateList(),this.getOrganisationList(),this.getAllItem(this.organisationId)}onTabChanged(e){console.log(e)}getEventValue(e){return e.target.value}clear(e){e.clear()}onClickAdd(){this.selectedIndex=1}editTeacher(e){}deleteTeacher(e){}showDivClick(e){this.showDiv=!0,console.log("data:",e),this.organisationName=e.organisation_name,this.address=e.address,this.city=e.city,this.contactNumber=e.contact_number,this.emailId=e.email_id,this.organisationPin=e.pin}ngOnInit(){const e=new Date;(0,h.p6)(e,"yyyy-MM-dd","en"),this.itemFormGroup=new n.cw({itemName:new n.NI(null,[n.kI.required,n.kI.maxLength(100),n.kI.minLength(4)]),technicalName:new n.NI(null,[n.kI.required,n.kI.maxLength(255),n.kI.minLength(4)]),description:new n.NI(null),itemId:new n.NI(0)})}editItem(e){console.log("Item Details:",e),this.selectedIndex=1,this.isShown=!0,this.itemFormGroup.patchValue({itemId:e.id}),this.itemFormGroup.patchValue({itemName:e.item_name}),this.itemFormGroup.patchValue({technicalName:e.technical_name}),this.itemFormGroup.patchValue({description:e.item_description})}onUpdate(){l().fire({title:"Are you sure?",text:"Update This Record...?",icon:"info",showCancelButton:!0,confirmButtonText:"Yes, Update it!",cancelButtonText:"No, keep it"}).then(e=>{e.isConfirmed?(this.studentData.itemId=this.itemFormGroup.value.itemId,this.studentData.itemName=this.itemFormGroup.value.itemName,this.studentData.technicalName=this.itemFormGroup.value.technicalName,this.studentData.description=this.itemFormGroup.value.description,this.studentData.organisationId=this.organisationId,this.customerService.updateItem(this.studentData).subscribe(o=>{1===o.success&&(l().fire({position:"top-end",icon:"success",title:"Item has been Updated",showConfirmButton:!1,timer:1500}),this.onClear(),console.log("Return Customer data:",o.data),this.selectedIndex=0,this.getAllItem(this.organisationId))},o=>{l().fire({icon:"error",title:"Oops...",text:o,footer:"<a href>Why do I have this issue?</a>",timer:0})})):e.dismiss===l().DismissReason.cancel&&l().fire("Cancelled","Your imaginary file is safe :)","error")})}getStateList(){this.customerService.fetchAllStates().subscribe(e=>{this.stateList=e.data,console.log("stateList:",this.stateList)})}getOrganisationList(){this.organisationList=[],this.customerService.fetchAllOrganisaction().subscribe(e=>{this.organisationList=e.data,console.log("organisationList:",this.organisationList)})}getAllItem(e){this.customerService.fetchAllItem(this.organisationId).subscribe(o=>{this.ItemList=o.data,console.log("ItemList list:",this.ItemList)})}onClear(){this.isShown=!1,this.itemFormGroup=new n.cw({itemName:new n.NI(null,[n.kI.required,n.kI.maxLength(100),n.kI.minLength(4)]),technicalName:new n.NI(null,[n.kI.required,n.kI.maxLength(255),n.kI.minLength(4)]),description:new n.NI(null),itemId:new n.NI(0)})}onSave(){l().fire({title:"Are you sure?",text:"Save This Record...?",icon:"info",showCancelButton:!0,confirmButtonText:"Yes, Save it!",cancelButtonText:"No, keep it"}).then(e=>{e.isConfirmed?(this.studentData.itemName=this.itemFormGroup.value.itemName,this.studentData.technicalName=this.itemFormGroup.value.technicalName,this.studentData.description=this.itemFormGroup.value.description,this.studentData.organisationId=this.organisationId,this.customerService.saveItem(this.studentData).subscribe(o=>{1===o.success&&(l().fire({position:"top-end",icon:"success",title:"Item has been saved",showConfirmButton:!1,timer:1500}),this.onClear(),console.log("Return Customer data:",o.data),this.selectedIndex=0,this.getAllItem(this.organisationId))},o=>{l().fire({icon:"error",title:"Oops...",text:o,footer:"<a href>Why do I have this issue?</a>",timer:0})})):e.dismiss===l().DismissReason.cancel&&l().fire("Cancelled","Your imaginary file is safe :)","error")})}onGo(e){console.log("test:",e.target.value),this.customerService.fetchCheckStudentExists(e.target.value).subscribe(r=>{this.studentList=r.data,this.successMessage=r.success,this.successMessage>0?(this.showDivStudentExists=!0,this.itemName=this.studentList[0].ledger_name,this.address=this.studentList[0].address,this.gurardainName=this.studentList[0].guardian_name,this.dob=this.studentList[0].dob,this.qualification=this.studentList[0].qualification,this.organisationName=this.studentList[0].organisation_name):this.showDivStudentExists=!1,console.log("studentList:",this.studentList),console.log("successMessage:",this.successMessage)})}sameAsWhatsAppNo(){this.itemFormGroup.patchValue({contactNumber:this.itemFormGroup.value.whatsappNumber})}setDOBSQL(e){this.itemFormGroup.patchValue({dob:this.commonService.getSQLDate(e)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Z.v),t.Y36(T.v))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-item"]],decls:58,vars:15,consts:[[1,"container-fluid","page"],[1,"row","d-flex","align-items-center","justify-content-between"],[1,"col-12","header"],[1,"bi","bi-cash"],[1,"row"],[1,"col-12","mt-3","feeleft"],["animationDuration","200ms",2,"background-image","linear-gradient(to bottom right, rgb(8, 2, 68), rgb(7, 32, 146))","color","aliceblue","padding","12px","border-radius","5px","padding","0px",3,"selectedIndex","selectedTabChange","selectedIndexChange"],["mat-tab-label",""],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-gridlines",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions","globalFilterFields"],["Item",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","paginatorleft"],[3,"formGroup"],[2,"background-color","whitesmoke","padding","20px"],[1,"",2,"background-color","white"],[1,"col-sm-8"],["appearance","outline",2,"width","100%"],[1,"bi","bi-person-fill"],["matInput","","placeholder","Item Name","formControlName","itemName",1,"custom"],[4,"ngIf"],[1,"bi","bi-geo-alt-fill"],["matInput","","placeholder","Technical Name","formControlName","technicalName",1,"custom"],["matInput","","placeholder","Item Description","formControlName","description",1,"custom"],[1,"col-sm-6","text-right"],["appearance","outline",2,"width","100%","display","none"],["matInput","","placeholder","id","formControlName","itemId",1,"custom"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button",1,"btn","btn-info",3,"click"],[1,"example-tab-icon"],[2,"height","20px","width","20px","border-radius","50%","background-color","red","border","1px solid red","font-weight","bolder"],[1,"flex"],["type","button","icon","pi pi-plus","label","ADD",1,"p-button-outlined",3,"click"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search keyword",3,"input"],["pSortableColumn","item_name"],["field","item_name"],["pSortableColumn","technical_name"],["field","technical_name"],["pSortableColumn","edit"],["field","edit"],["pSortableColumn","delete"],["field","delete"],["type","button","icon","pi pi-pencil","styleClass","p-button-text",3,"click"],["type","button","icon","pi pi-trash","styleClass","p-button-text",3,"click"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined",3,"click"],["class","text-right",4,"ngIf"],[1,"text-right"],["type","button",1,"btn","btn-primary",3,"click"],[1,"bi","bi-save"],["type","button",1,"btn","btn-success",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"i",3),t._uU(4,"\xa0 Item Entry"),t.qZA()(),t.TgZ(5,"div",4)(6,"div",5)(7,"mat-tab-group",6),t.NdJ("selectedTabChange",function(m){return o.onTabChanged(m)})("selectedIndexChange",function(m){return o.selectedIndex=m}),t.TgZ(8,"mat-tab"),t.YNc(9,N,5,1,"ng-template",7),t.TgZ(10,"p-table",8,9),t.YNc(12,A,5,0,"ng-template",10),t.YNc(13,U,17,0,"ng-template",11),t.YNc(14,w,13,4,"ng-template",12),t.YNc(15,y,1,0,"ng-template",13),t.qZA()(),t.TgZ(16,"mat-tab"),t.YNc(17,F,3,0,"ng-template",7),t.TgZ(18,"form",14)(19,"div",15)(20,"div",16)(21,"div",4)(22,"div",17)(23,"mat-form-field",18)(24,"mat-label"),t._UZ(25,"i",19),t._uU(26," \xa0 Item Name"),t.qZA(),t._UZ(27,"input",20),t.YNc(28,S,2,1,"div",21),t.qZA()()(),t.TgZ(29,"div",4)(30,"div",17)(31,"mat-form-field",18)(32,"mat-label"),t._UZ(33,"i",22),t._uU(34," \xa0 Technical Name "),t.qZA(),t._UZ(35,"input",23),t.YNc(36,G,2,1,"div",21),t.qZA()()(),t.TgZ(37,"div",4)(38,"div",17)(39,"mat-form-field",18)(40,"mat-label"),t._UZ(41,"i",22),t._uU(42," \xa0 Item Description "),t.qZA(),t._UZ(43,"input",24),t.YNc(44,q,2,1,"div",21),t.qZA()()(),t.TgZ(45,"div",4)(46,"div",25)(47,"mat-form-field",26)(48,"mat-label"),t._uU(49,"Item ID"),t.qZA(),t._UZ(50,"input",27),t.qZA()(),t.TgZ(51,"div",25),t.YNc(52,M,3,0,"button",28),t._uU(53,"\xa0\xa0 "),t.YNc(54,J,3,0,"button",29),t._uU(55,"\xa0\xa0 "),t.TgZ(56,"button",30),t.NdJ("click",function(){return o.onClear()}),t._uU(57,"\xa0 Clear"),t.qZA()()()()()()()()()()()),2&e&&(t.xp6(7),t.Q6J("selectedIndex",o.selectedIndex),t.xp6(3),t.Q6J("value",o.ItemList)("paginator",!0)("rows",5)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(13,Y))("globalFilterFields",t.DdM(14,O)),t.xp6(8),t.Q6J("formGroup",o.itemFormGroup),t.xp6(10),t.Q6J("ngIf",o.itemFormGroup.controls.itemName.errors&&o.itemFormGroup.controls.itemName.touched),t.xp6(8),t.Q6J("ngIf",o.itemFormGroup.controls.technicalName.errors&&o.itemFormGroup.controls.technicalName.touched),t.xp6(8),t.Q6J("ngIf",o.itemFormGroup.controls.description.errors&&o.itemFormGroup.controls.description.touched),t.xp6(8),t.Q6J("ngIf",o.isShown),t.xp6(2),t.Q6J("ngIf",o.itemFormGroup.valid&&!o.isShown))},dependencies:[h.O5,u.TO,u.KE,u.hX,b.Hw,d.SP,d.uD,d.uX,v.Nt,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,p.iA,C.jx,p.lQ,p.fz,g.Hq,g.zx,_.o],styles:[".header[_ngcontent-%COMP%]{background-color:#f8f1d7;color:#b80707!important;padding:.5em 1em;font-size:1.5em;margin:0;font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif;font-size:xx-large}  .mat-step-header .mat-step-icon-selected,   .mat-step-header .mat-step-icon-state-done,   .mat-step-header .mat-step-icon-state-edit{background-color:#050505!important}  .mat-form-field-appearance-outline .mat-form-field-outline{color:#050505!important}  .custom{color:#050505!important;font-size:medium!important}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#050505!important}  .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:#050505!important;opacity:.8!important}  .mat-input-element{caret-color:#050505!important}  .mat-form-field-invalid .mat-input-element,   .mat-warn .mat-input-element{caret-color:#050505!important}  .mat-form-field-label{color:#787676!important;font-size:large!important}  .mat-form-field.mat-focused .mat-form-field-label{color:#050505!important}  .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#050505!important}    .mat-form-field .mat-input-element{color:#080808;font-size:medium}    .mat-form-field .mat-form-field-label{color:#0a0a0a;font-size:medium}    .mat-form-field .mat-form-field-underline{background-color:#04203b}    .mat-form-field .mat-form-field-ripple{background-color:#708090}    .mat-form-field .mat-form-field-required-marker{color:#be1509}    datepicker-value-example .mat-form-field-label{color:#43b2ee}    .mat-datepicker-toggle{color:#43b2ee}    .mat-form-field-underline{background:#43b2ee}  .organisation-details{font-size:medium;background-color:#f0e4791c;border-radius:10px;padding:10px;margin-bottom:10px}  .comname{font-size:2em;font-weight:800;letter-spacing:.1em;color:#100998}"]}),i})()}];let E=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[I.Bz.forChild(B),I.Bz]}),i})();var Q=a(4850),z=a(6338),R=a(8255),P=a(3683),K=a(8796),H=a(9602),V=a(3238),j=a(5362),X=a(1167),$=a(5121);let W=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[h.ez,E,u.lN,b.Ps,Q.t,z.ie,R.Tx,P.g0,d.Nh,v.c,K.A0,n.u5,n.UX,p.U$,g.hJ,_.j,H.FA,V.XK,j.Qy,X.KZ,$.Z_]}),i})()}}]);