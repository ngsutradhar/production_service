"use strict";(self.webpackChunkadminDesign=self.webpackChunkadminDesign||[]).push([[8200],{8200:(w,p,n)=>{n.r(p),n.d(p,{SubjectToCourseModule:()=>M});var m=n(6895),d=n(7466),b=n(5593),g=n(8796),h=n(4364),r=n(4006),j=n(5226),l=n.n(j),e=n(4650),T=n(9366),S=n(6102),C=n(805),f=n(1740);function v(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"span",16),e._UZ(2,"i",17),e.TgZ(3,"input",18),e.NdJ("input",function(c){e.CHM(t),e.oxw();const u=e.MAs(7),a=e.oxw();return e.KtG(u.filterGlobal(a.getEventValue(c),"contains"))}),e.qZA()()()}}function _(o,i){1&o&&(e.TgZ(0,"tr")(1,"th",19),e._uU(2,"Subjects Name "),e._UZ(3,"p-sortIcon",20),e.qZA(),e.TgZ(4,"th"),e._uU(5,"Action "),e.qZA()())}function x(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"button",21),e.NdJ("click",function(){const u=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.onSelectedItem(u))}),e._uU(5,"Active"),e.qZA()()()}if(2&o){const t=i.$implicit;e.xp6(2),e.Oqu(t.subject_full_name)}}const A=function(){return["subject_full_name"]};function Z(o,i){if(1&o&&(e.TgZ(0,"div",5)(1,"h1")(2,"u"),e._uU(3,"Main Subjects Table"),e.qZA()(),e.TgZ(4,"form",3)(5,"div")(6,"p-table",10,11),e.YNc(8,v,4,0,"ng-template",12),e.YNc(9,_,6,0,"ng-template",13),e.YNc(10,x,6,1,"ng-template",14),e.qZA()()()()),2&o){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.selectedSubjectFormGroup),e.xp6(2),e.Q6J("value",t.subjectArray)("globalFilterFields",e.DdM(3,A))}}function I(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"th",28),e._uU(2),e.qZA(),e.TgZ(3,"th",29),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"button",30),e.NdJ("click",function(){const u=e.CHM(t).index,a=e.oxw(2);return e.KtG(a.onDelete(u))}),e._uU(9,"Remove"),e.qZA()()()}if(2&o){const t=i.$implicit,s=i.index;e.xp6(2),e.Oqu(s+1),e.xp6(2),e.Oqu(t.subjectId),e.xp6(2),e.Oqu(t.subjectName)}}function y(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",5)(1,"h1")(2,"u"),e._uU(3,"Selected Subjects Table"),e.qZA()(),e.TgZ(4,"table",22)(5,"thead")(6,"tr")(7,"th",23),e._uU(8,"#"),e.qZA(),e.TgZ(9,"th",24),e._uU(10,"Subject id"),e.qZA(),e.TgZ(11,"th",23),e._uU(12,"Subject Name"),e.qZA(),e.TgZ(13,"th",23),e._uU(14,"Action"),e.qZA()()(),e.TgZ(15,"tbody"),e.YNc(16,I,10,3,"tr",25),e.qZA()(),e.TgZ(17,"button",26),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.onSave())}),e.TgZ(18,"i",27),e._uU(19," Save "),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(16),e.Q6J("ngForOf",t.tempSubjectArray)}}const N=[{path:"",component:(()=>{class o{constructor(t,s){this.authService=t,this.courseService=s,this.coursesArray=[],this.subjectArray=[],this.tempSubjectArray=[],this.UserID=0,this.organisationId=0,this.isShowReport=!1,this.isSelectedSubjectBoolean=!1,this.subjectId=0,this.courseId=0,this.subjectName="";const c=localStorage.getItem("user");c&&(this.UserID=JSON.parse(c).uniqueId,this.organisationId=JSON.parse(c).organisationId,console.log("user localUserID:",this.UserID),console.log("user organisationId:",this.organisationId)),this.getCourseList(this.organisationId)}ngOnInit(){this.subjectToCourseFormGroup=new r.cw({course_id:new r.NI(null,[r.kI.required])}),this.selectedSubjectFormGroup=new r.cw({course_id:new r.NI(null,[r.kI.required])})}getCourseList(t){this.courseService.fetchAllCourses(t).subscribe(s=>{this.coursesArray=s.data,console.log("courseListarray:",this.coursesArray)})}chooseSubject(t){console.log("choose course id:",t.id),this.courseId=t.id,this.isShowReport=!0,this.courseService.fetchAllSubjects(this.organisationId).subscribe(s=>{this.subjectArray=s.data,console.log("SubjectListarray:",this.subjectArray)})}onSelectedItem(t){this.isSelectedSubjectBoolean=!0,console.log("Main selected data:",t),this.subjectId=t.id,this.subjectName=t.subject_full_name,this.tempItemObj={courseId:this.courseId,subjectId:this.subjectId,subjectName:this.subjectName,organisationId:this.organisationId},this.tempSubjectArray.push(this.tempItemObj),console.log(this.tempItemObj)}onDelete(t){this.tempSubjectArray.splice(t,1)}onSave(){this.tempItemObj={},this.tempItemObj={subjectDetails:Object.values(this.tempSubjectArray)},l().fire({title:"Are you sure?",text:"Save This Record...?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Save it!",cancelButtonText:"No, keep it"}).then(t=>{t.isConfirmed?this.courseService.saveSubjectToCourse(this.tempItemObj).subscribe(s=>{1===s.success&&l().fire({position:"top-end",icon:"success",title:"Subject to Course has been saved",showConfirmButton:!1,timer:1500})},s=>{l().fire({icon:"error",title:"Oops...",text:s,footer:"<a href>Why do I have this issue?</a>",timer:0})}):t.dismiss===l().DismissReason.cancel&&l().fire("Cancelled","Your imaginary file is safe :)","error")})}clear(t){t.clear()}getEventValue(t){return t.target.value}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(T.e),e.Y36(S.N))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-subject-to-course"]],decls:14,vars:4,consts:[[1,"container-fluid","page"],[1,"page__box"],[1,"control-div"],[3,"formGroup"],[1,"row","p-3"],[1,"col-sm-5"],["fxFlex","100","bindLabel","full_name","bindValue","id","appendTo","body","formControlName","course_id","placeholder","select Course / Class Name",1,"custom",3,"items","change"],[1,"container"],["class","col-sm-5",4,"ngIf"],[1,"col-sm-1"],[3,"value","globalFilterFields"],["subjectList",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-d-flex"],[1,"p-input-icon-left","p-ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search keyword",3,"input"],["pSortableColumn","subject_full_name"],["field","subject_full_name"],["type","button",1,"btn","btn-success",3,"click"],[1,"table","table-striped",2,"font-size","medium"],["scope","col"],["scope","col",2,"display","none"],[4,"ngFor","ngForOf"],["pButton","",1,"p-button-rounded","p-button-info","text-right",3,"click"],[1,"bi","bi-save",2,"font-size","1rem"],["scope","row"],["scope","row",2,"display","none"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"Subject To Course "),e.qZA(),e.TgZ(3,"div",2)(4,"form",3)(5,"div",4)(6,"div",5)(7,"ng-select",6),e.NdJ("change",function(u){return s.chooseSubject(u)}),e.qZA()()()()(),e.TgZ(8,"div",7)(9,"div",4),e.YNc(10,Z,11,4,"div",8),e.TgZ(11,"div",9),e._uU(12," \xa0 "),e.qZA(),e.YNc(13,y,20,1,"div",8),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("formGroup",s.subjectToCourseFormGroup),e.xp6(3),e.Q6J("items",s.coursesArray),e.xp6(3),e.Q6J("ngIf",s.isShowReport),e.xp6(3),e.Q6J("ngIf",s.isSelectedSubjectBoolean))},dependencies:[m.sg,m.O5,d.iA,C.jx,d.lQ,d.fz,b.Hq,g.w9,r._Y,r.JJ,r.JL,r.sg,r.u,f.o],styles:[".page[_ngcontent-%COMP%]{color:#0c0c0c;min-height:100vh}.page__box[_ngcontent-%COMP%]{font-size:2.5em;padding:10px}.control-div[_ngcontent-%COMP%]{margin-top:2.2%;width:80%;height:15vh;border:2px solid black;margin-left:10%;border-radius:10px}.page__content[_ngcontent-%COMP%]{margin-top:2.2%;width:80%;height:100vh;background-color:transparent;margin-left:10%;border-radius:10px}  .mat-form-field .mat-input-element{color:#080808;font-size:medium;font-family:Roboto,sans-serif}  .mat-form-field .mat-form-field-label{color:#0a0a0a;font-family:Roboto,sans-serif;font-size:large}  datepicker-value-example .mat-form-field-label{color:#210dd4}  .mat-datepicker-toggle{color:#43b2ee}  .mat-form-field-underline{background:#43b2ee}.mat-raised-button[_ngcontent-%COMP%]{background-color:#000}"]}),o})()}];let O=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[h.Bz.forChild(N),h.Bz]}),o})();var U=n(4144),F=n(9602),J=n(3238);let M=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.ez,O,d.U$,b.hJ,g.A0,r.u5,r.UX,U.c,F.FA,J.XK,f.j]}),o})()}}]);