"use strict";(self.webpackChunkadminDesign=self.webpackChunkadminDesign||[]).push([[5601],{5601:($,_,r)=>{r.r(_),r.d(_,{OrganisationModule:()=>X});var d=r(6895),g=r(4364),e=r(4006),T=r(5226),l=r.n(T),t=r(4650),A=r(4339),N=r(7078),u=r(9549),Z=r(7392),c=r(3848),b=r(4144),I=r(8796),p=r(7466),x=r(805),f=r(5593),v=r(1740);function C(o,a){1&o&&(t.TgZ(0,"mat-icon",45),t._uU(1,"trending_up"),t.qZA(),t._uU(2," Enter Organisation "))}function O(o,a){1&o&&(t.TgZ(0,"mat-error",47),t._uU(1," Organisation Name is required"),t.qZA())}function U(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,O,2,0,"mat-error",46),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.organisationFormGroup.controls.organisationName.errors.required)}}function q(o,a){1&o&&(t.TgZ(0,"mat-error",47),t._uU(1," Organisation Address is required"),t.qZA())}function w(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,q,2,0,"mat-error",46),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.organisationFormGroup.controls.address.errors.required)}}function y(o,a){1&o&&(t.TgZ(0,"mat-error",47),t._uU(1," Organisation Contact Number is required"),t.qZA())}function F(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,y,2,0,"mat-error",46),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.organisationFormGroup.controls.contactNumber.errors.required)}}function G(o,a){1&o&&(t.TgZ(0,"mat-error",47),t._uU(1," Organisation Email is required"),t.qZA())}function k(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,G,2,0,"mat-error",46),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.organisationFormGroup.controls.emailId.errors.required)}}function J(o,a){1&o&&(t.TgZ(0,"div",48)(1,"mat-form-field"),t._UZ(2,"input",49),t.qZA()())}function Y(o,a){if(1&o){const n=t.EpF();t.TgZ(0,"button",50),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.onSave())}),t._UZ(1,"i",33),t._uU(2,"\xa0 Save"),t.qZA()}}function B(o,a){if(1&o){const n=t.EpF();t.TgZ(0,"button",51),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.onUpdate())}),t._UZ(1,"i",33),t._uU(2,"\xa0 Update"),t.qZA()}}function L(o,a){1&o&&(t.TgZ(0,"mat-icon",45),t._uU(1,"list"),t.qZA(),t._uU(2," View Organisation "))}function S(o,a){if(1&o){const n=t.EpF();t.TgZ(0,"div",52)(1,"button",53),t.NdJ("click",function(){t.CHM(n);const s=t.oxw(),m=t.MAs(85);return t.KtG(s.clear(m))}),t.qZA(),t.TgZ(2,"span",54),t._UZ(3,"i",55),t.TgZ(4,"input",56),t.NdJ("input",function(s){t.CHM(n);const m=t.oxw(),h=t.MAs(85);return t.KtG(h.filterGlobal(m.getEventValue(s),"contains"))}),t.qZA()()()}}function V(o,a){1&o&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"ID"),t.qZA(),t.TgZ(3,"th",57),t._uU(4,"Organisation Name "),t._UZ(5,"p-sortIcon",58),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Address"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"City"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"District"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Contact Number"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Whatsapp Number"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Email"),t.qZA(),t.TgZ(18,"th",59),t._uU(19,"Action"),t.qZA()())}function M(o,a){if(1&o){const n=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td")(18,"p-button",60),t.NdJ("click",function(){const m=t.CHM(n).$implicit,h=t.oxw();return t.KtG(h.onEditOrganisation(m))}),t.qZA()(),t.TgZ(19,"td"),t._UZ(20,"p-button",61),t.qZA()()}if(2&o){const n=a.$implicit;t.xp6(2),t.Oqu(n.id),t.xp6(2),t.Oqu(n.organisation_name),t.xp6(2),t.Oqu(n.address),t.xp6(2),t.Oqu(n.city),t.xp6(2),t.Oqu(n.district),t.xp6(2),t.Oqu(n.contact_number),t.xp6(2),t.Oqu(n.whatsapp_number),t.xp6(2),t.Oqu(n.email_id)}}function E(o,a){1&o&&t._UZ(0,"p-button",62)}function Q(o,a){1&o&&(t.TgZ(0,"mat-icon",45),t._uU(1,"thumb_up"),t.qZA(),t._uU(2," Upcoming Birthday "))}const P=function(){return[5,10,25,50]},R=function(){return["organisation_name","address","contact_number","email_id","whatsapp_number"]},z=[{path:"",component:(()=>{class o{constructor(n,i,s){this.route=n,this.studentService=i,this.organisationService=s,this.stateList=[],this.organisationArray=[],this.hiddenInput=!1,this.isBtnVisible=!1,this.active=0,this.selectedIndex=0}ngOnInit(){this.organisationFormGroup=new e.cw({organisationId:new e.NI(0,[e.kI.required]),stateId:new e.NI(20),organisationName:new e.NI(null,[e.kI.required,e.kI.maxLength(100),e.kI.minLength(4)]),address:new e.NI(null,[e.kI.required,e.kI.maxLength(255),e.kI.minLength(4)]),city:new e.NI(null),district:new e.NI(null),pin:new e.NI(null),contactNumber:new e.NI(null,[e.kI.required,e.kI.maxLength(10),e.kI.minLength(10)]),whatsappNumber:new e.NI(null),emailId:new e.NI(null,[e.kI.required,e.kI.email]),openingBalance:new e.NI(0)}),this.getStateList(),this.getAllOrganisation()}onTabChanged(n){console.log(n)}getStateList(){this.studentService.fetchAllStates().subscribe(n=>{this.stateList=n.data,console.log("stateList:",this.stateList)})}getAllOrganisation(){this.organisationService.fetchAllOrganisation().subscribe(n=>{this.organisationArray=n.data,console.log("organisationArray:",this.organisationArray)})}getEventValue(n){return n.target.value}clear(n){n.clear()}onSave(){l().fire({title:"Are you sure?",text:"Save This Record...!",icon:"info",showCancelButton:!0,confirmButtonText:"Yes, Save it!",cancelButtonText:"No, keep it"}).then(n=>{n.isConfirmed?this.organisationService.saveOrganisation(this.organisationFormGroup.value).subscribe(i=>{1===i.success&&(l().fire({position:"top-end",icon:"success",title:"Organisation has been saved",showConfirmButton:!1,timer:1500}),this.getAllOrganisation(),this.onClear())},i=>{l().fire({icon:"error",title:"Duplicate Entry ..!!",text:i,footer:"<a href>Why do I have this issue?</a>",timer:0})}):n.dismiss===l().DismissReason.cancel&&l().fire("Cancelled","Your imaginary file is safe :)","error")})}onUpdate(){l().fire({title:"Are you sure?",text:"Update This Record...!",icon:"info",showCancelButton:!0,confirmButtonText:"Yes, Save it!",cancelButtonText:"No, keep it"}).then(n=>{n.isConfirmed?this.organisationService.updateOrganisation(this.organisationFormGroup.value).subscribe(i=>{1===i.success&&(l().fire({position:"top-end",icon:"success",title:"Organisation has been Update",showConfirmButton:!1,timer:1500}),this.getAllOrganisation(),this.onClear())},i=>{l().fire({icon:"error",title:"Duplicate Entry ..!!",text:i,footer:"<a href>Why do I have this issue?</a>",timer:0})}):n.dismiss===l().DismissReason.cancel&&l().fire("Cancelled","Your imaginary file is safe :)","error")})}onClear(){this.isBtnVisible=!1,this.organisationFormGroup=new e.cw({organisationId:new e.NI(0,[e.kI.required]),stateId:new e.NI(20),organisationName:new e.NI(null,[e.kI.required,e.kI.maxLength(100),e.kI.minLength(4)]),address:new e.NI(null,[e.kI.required,e.kI.maxLength(255),e.kI.minLength(4)]),city:new e.NI(null),district:new e.NI(null),pin:new e.NI(null),contactNumber:new e.NI(null,[e.kI.required,e.kI.maxLength(10),e.kI.minLength(10)]),whatsappNumber:new e.NI(null),emailId:new e.NI(null,[e.kI.required,e.kI.email]),openingBalance:new e.NI(0)})}onEditOrganisation(n){console.log("orgData:",n),this.selectedIndex=0,this.isBtnVisible=!0,this.organisationFormGroup.patchValue({organisationId:n.id}),this.organisationFormGroup.patchValue({stateId:n.state_id}),this.organisationFormGroup.patchValue({organisationName:n.organisation_name}),this.organisationFormGroup.patchValue({address:n.address}),this.organisationFormGroup.patchValue({city:n.city}),this.organisationFormGroup.patchValue({district:n.district}),this.organisationFormGroup.patchValue({pin:n.pin}),this.organisationFormGroup.patchValue({contactNumber:n.contact_number}),this.organisationFormGroup.patchValue({whatsappNumber:n.whatsapp_number}),this.organisationFormGroup.patchValue({emailId:n.email_id}),this.organisationFormGroup.patchValue({openingBalance:n.opening_balance})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(g.gz),t.Y36(A.V),t.Y36(N.w))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-organisation"]],decls:96,vars:22,consts:[[1,"container-fluid","page"],[1,"row","d-flex","align-items-center","justify-content-between"],[1,"col-12","header"],[1,"bi","bi-cash"],[1,"row"],[1,"col-12","mt-3","feeleft"],["animationDuration","200ms",2,"background-image","linear-gradient(to bottom right, rgb(8, 2, 68), rgb(7, 32, 146))","color","aliceblue","padding","12px","border-radius","5px","padding","0px",3,"selectedIndex","selectedIndexChange"],["mat-tab-label",""],[3,"formGroup"],[2,"background-color","white","padding","20px"],[1,"col-sm-12"],["appearance","outline",2,"width","100%"],[1,"bi","bi-building"],["matInput","","placeholder","Organisation Name","formControlName","organisationName",1,"custom"],[4,"ngIf"],[1,"bi","bi-geo-alt-fill"],["matInput","","placeholder","Organisation Address","formControlName","address",1,"custom"],[1,"col-sm-4"],["appearance","outline","bindLabel","stateName","bindValue","stateId","formControlName","stateId","autofocus","","appendTo","body","placeholder","State",1,"custom",2,"width","100%",3,"items"],["matInput","","placeholder","City","formControlName","city",1,"custom"],["matInput","","placeholder","Pin","formControlName","pin",1,"custom"],[1,"col-sm-6"],[1,"bi","bi-phone-fill"],["matInput","","placeholder","Contact No","formControlName","contactNumber",1,"custom"],[1,"bi","bi-whatsapp"],["matInput","","placeholder","What's App No","formControlName","whatsappNumber",1,"custom"],[1,"bi","bi-envelope-fill","mr-1"],["matInput","email","placeholder","Email ID","formControlName","emailId",1,"custom"],[1,"col-sm-2"],["matInput","","placeholder","Opening Balance","formControlName","openingBalance",1,"custom"],["class","form-group",4,"ngIf"],[1,"col-sm-12","text-right"],["type","button",1,"btn","btn-success",3,"click"],[1,"bi","bi-save"],["type","button","class","btn btn-info",3,"click",4,"ngIf"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],[1,"p-2","bd-highlight"],[2,"color","white"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-striped",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions","globalFilterFields"],["organisation",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","paginatorleft"],[2,"background-color","yellow","color","black"],[1,"example-tab-icon"],["class","text-right",4,"ngIf"],[1,"text-right"],[1,"form-group"],["matInput","","placeholder","organisation ID","formControlName","organisationId"],["type","button",1,"btn","btn-info",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"flex"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined",3,"click"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search keyword",3,"input"],["pSortableColumn","organisation_name"],["field","organisation_name"],["colspan","2"],["type","button","icon","pi pi-pencil","styleClass","p-button-text",3,"click"],["type","button","icon","pi pi-trash","styleClass","p-button-text"],["type","button","icon","pi pi-plus","styleClass","p-button-text"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"i",3),t._uU(4,"\xa0 New organisation"),t.qZA()(),t.TgZ(5,"div",4)(6,"div",5)(7,"mat-tab-group",6),t.NdJ("selectedIndexChange",function(m){return i.onTabChanged(m)})("selectedIndexChange",function(m){return i.selectedIndex=m}),t.TgZ(8,"mat-tab"),t.YNc(9,C,3,0,"ng-template",7),t.TgZ(10,"form",8)(11,"div",9)(12,"div",4)(13,"div",10)(14,"mat-form-field",11)(15,"mat-label"),t._UZ(16,"i",12),t._uU(17," \xa0 Organisation Name"),t.qZA(),t._UZ(18,"input",13),t.YNc(19,U,2,1,"div",14),t.qZA()()(),t.TgZ(20,"div",4)(21,"div",10)(22,"mat-form-field",11)(23,"mat-label"),t._UZ(24,"i",15),t._uU(25," \xa0 Organisation Address "),t.qZA(),t._UZ(26,"input",16),t.YNc(27,w,2,1,"div",14),t.qZA()()(),t.TgZ(28,"div",4)(29,"div",17),t._UZ(30,"ng-select",18),t.qZA(),t.TgZ(31,"div",17)(32,"mat-form-field",11)(33,"mat-label"),t._uU(34,"City"),t.qZA(),t._UZ(35,"input",19),t.qZA()(),t.TgZ(36,"div",17)(37,"mat-form-field",11)(38,"mat-label"),t._uU(39,"Pin"),t.qZA(),t._UZ(40,"input",20),t.qZA()()(),t.TgZ(41,"div",4)(42,"div",21)(43,"mat-form-field",11)(44,"mat-label"),t._UZ(45,"i",22),t._uU(46,"\xa0Contact No"),t.qZA(),t._UZ(47,"input",23),t.YNc(48,F,2,1,"div",14),t.qZA()(),t.TgZ(49,"div",21)(50,"mat-form-field",11)(51,"mat-label"),t._UZ(52,"i",24),t._uU(53,"\xa0 What's App No"),t.qZA(),t._UZ(54,"input",25),t.qZA()()(),t.TgZ(55,"div",4)(56,"div",21)(57,"mat-form-field",11)(58,"mat-label"),t._UZ(59,"i",26),t._uU(60," \xa0 Email ID"),t.qZA(),t._UZ(61,"input",27),t.YNc(62,k,2,1,"div",14),t.qZA()(),t.TgZ(63,"div",28)(64,"mat-form-field",11)(65,"mat-label"),t._UZ(66,"i",3),t._uU(67,"\xa0 Opening Balance"),t.qZA(),t._UZ(68,"input",29),t.qZA()(),t.TgZ(69,"div",28),t.YNc(70,J,3,0,"div",30),t.qZA()(),t.TgZ(71,"div",4)(72,"div",31)(73,"button",32),t.NdJ("click",function(){return i.onClear()}),t._UZ(74,"i",33),t._uU(75,"\xa0Clear"),t.qZA(),t._uU(76," \xa0 "),t.YNc(77,Y,3,0,"button",34),t.YNc(78,B,3,0,"button",35),t.qZA()()()()(),t.TgZ(79,"mat-tab"),t.YNc(80,L,3,0,"ng-template",7),t.TgZ(81,"div",36)(82,"h3",37),t._uU(83,"Organisation Details"),t.qZA(),t.TgZ(84,"p-table",38,39),t.YNc(86,S,5,0,"ng-template",40),t.YNc(87,V,20,0,"ng-template",41),t.YNc(88,M,21,8,"ng-template",42),t.YNc(89,E,1,0,"ng-template",43),t.qZA()()(),t.TgZ(90,"mat-tab"),t.YNc(91,Q,3,0,"ng-template",7),t.TgZ(92,"pre",44),t._uU(93),t.ALo(94,"json"),t._uU(95,"\n                      "),t.qZA()()()()()()),2&n&&(t.xp6(7),t.Q6J("selectedIndex",i.selectedIndex),t.xp6(3),t.Q6J("formGroup",i.organisationFormGroup),t.xp6(9),t.Q6J("ngIf",i.organisationFormGroup.controls.organisationName.errors&&i.organisationFormGroup.controls.organisationName.touched),t.xp6(8),t.Q6J("ngIf",i.organisationFormGroup.controls.address.errors&&i.organisationFormGroup.controls.address.touched),t.xp6(3),t.Q6J("items",i.stateList),t.xp6(18),t.Q6J("ngIf",i.organisationFormGroup.controls.contactNumber.errors&&i.organisationFormGroup.controls.contactNumber.touched),t.xp6(14),t.Q6J("ngIf",i.organisationFormGroup.controls.emailId.errors&&i.organisationFormGroup.controls.emailId.touched),t.xp6(8),t.Q6J("ngIf",i.hiddenInput),t.xp6(7),t.Q6J("ngIf",i.organisationFormGroup.valid&&!i.isBtnVisible),t.xp6(1),t.Q6J("ngIf",i.organisationFormGroup.valid&&i.isBtnVisible),t.xp6(6),t.Q6J("value",i.organisationArray)("paginator",!0)("rows",5)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(20,P))("globalFilterFields",t.DdM(21,R)),t.xp6(9),t.AsE("                        organisationFormGroup = ",t.lcZ(94,18,i.organisationFormGroup.value),"\n                        organisationFormGroup.valid = ",i.organisationFormGroup.valid,"\n                       "))},dependencies:[d.O5,u.TO,u.KE,u.hX,Z.Hw,c.SP,c.uD,c.uX,b.Nt,I.w9,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,p.iA,x.jx,p.lQ,p.fz,f.Hq,f.zx,v.o,d.Ts],styles:[".header[_ngcontent-%COMP%]{background-color:#383838;padding:.5em 1em;font-size:1.5em;margin:0;color:#fff}.feeleft[_ngcontent-%COMP%]{border-radius:10px;box-shadow:#00000059 0 5px 15px;background-color:#fff}.feeright[_ngcontent-%COMP%]{border-radius:10px;box-shadow:#00000059 0 5px 15px}  .mat-step-header .mat-step-icon-selected,   .mat-step-header .mat-step-icon-state-done,   .mat-step-header .mat-step-icon-state-edit{background-color:#050505!important}  .mat-form-field-appearance-outline .mat-form-field-outline{color:#050505!important}  .custom{color:#050505!important;font-size:medium!important}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#050505!important}  .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:#050505!important;opacity:.8!important}  .mat-input-element{caret-color:#050505!important}  .mat-form-field-invalid .mat-input-element,   .mat-warn .mat-input-element{caret-color:#050505!important}  .mat-form-field-label{color:#787676!important;font-size:large!important}  .mat-form-field.mat-focused .mat-form-field-label{color:#050505!important}  .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#050505!important}"]}),o})()}];let j=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[g.Bz.forChild(z),g.Bz]}),o})();var H=r(4850),K=r(6338),D=r(8255),W=r(3683);let X=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.ez,j,u.lN,Z.Ps,H.t,K.ie,D.Tx,W.g0,c.Nh,b.c,I.A0,e.u5,e.UX,p.U$,f.hJ,v.j]}),o})()}}]);